(this.webpackJsonpprojfrontend=this.webpackJsonpprojfrontend||[]).push([[0],{121:function(e,t,r){const{loadScript:a}=r(164),{createOrder:c}=r(165),{createRazorpayOrder:o}=r(166);t.displayRazorpay=async(e,t,r)=>{if(!await a("https://checkout.razorpay.com/v1/checkout.js"))return void alert("Razorpay SDK failed to load. Are you online?");const s={amount:t.amount,currency:t.currency,notes:{note:"Razor Pay Order From FE"}},n=await o(s,r);c(r);const i={key:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).RAZORPAY_API_KEY,currency:n.currency,amount:n.amount.toString(),order_id:n.id,name:"Donation",description:"Thank you for nothing. Please give us some money",handler:function(e){alert(e.razorpay_payment_id),alert(e.razorpay_order_id),alert(e.razorpay_signature)},prefill:{name:e.name,email:e.email}};new window.Razorpay(i).open((()=>{alert("Payment Success")}))}},164:function(e,t){t.loadScript=e=>new Promise((t=>{const r=document.createElement("script");r.src=e,r.onload=()=>{t(!0)},r.onerror=()=>{t(!1)},document.body.appendChild(r)}))},165:function(e,t,r){"use strict";r.r(t),r.d(t,"createOrder",(function(){return c}));var a=r(22);const c=(e,t)=>fetch("".concat(a.API,"/order/create/"),{method:"POST",headers:{Accept:"application/json","content-type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(t)}).then((e=>e.json())).catch((e=>{console.log("Error modify Item  : "+e)}))},166:function(e,t,r){const{API:a}=r(22);t.createRazorpayOrder=(e,t)=>fetch("".concat(a,"/razorpay"),{method:"POST",headers:{Accept:"application/json","content-type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(e)}).then((e=>e.json()))},167:function(e,t,r){"use strict";r.r(t);var a=r(0),c=r.n(a),o=r(15),s=r.n(o),n=r(18),i=r(19),l=r(115),d=r(98),j=r.n(d);const{API:h}=r(22),p=e=>fetch("".concat(h,"/signin"),{method:"POST",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then((e=>e.json())).catch((e=>{console.log(e)})),m=(e,t)=>{"undefined"!==typeof window&&(localStorage.setItem("jwt",JSON.stringify(e)),t())},b=()=>{if("undefined"==typeof window||!localStorage.getItem("jwt"))return!1;let e=localStorage.getItem("jwt");var t=Object(l.a)(e);return!(j.a.unix(t.exp).utc()<j()().utc())&&JSON.parse(localStorage.getItem("jwt"))};var u=r(1);var O=e=>{let{component:t,...r}=e;return Object(u.jsx)(i.b,{...r,render:e=>b()&&1==b().user.role?Object(u.jsx)(t,{...e}):Object(u.jsx)(i.a,{to:{pathname:"/",state:{from:e.location}}})})};var g=e=>{let{component:t,...r}=e;return Object(u.jsx)(i.b,{...r,render:e=>b()?Object(u.jsx)(t,{...e}):Object(u.jsx)(i.a,{to:{pathname:"/",state:{from:e.location}}})})},x=r(22);const y=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return fetch("".concat(x.API,"/products?limit=").concat(e),{method:"GET",headers:{Accept:"application/json"}}).then((e=>e.json())).catch((e=>{console.log("Error obtaining all products : "+e)}))};var f=r(35),v=r(75),N=r(68);const C=Object(f.a)((e=>({root:{"& .MuiFormControl-root":{width:"80%",margin:e.spacing(1)}}})));var S=r(61);const w=Object(f.a)((e=>({root:{minWidth:0,margin:e.spacing(.5)},secondary:{backgroundColor:e.palette.background.main,"& .MuiButton-label":{color:e.palette.secondary.main}},primary:{backgroundColor:e.palette.background.main,"& .MuiButton-label":{color:e.palette.primary.main}},theme:{backgroundColor:e.palette.background,"& .MuiButton-label":{color:e.palette.theme}}})));var k=e=>{const t=w(),{color:r,children:a,onClick:c,variant:o,size:s,...n}=e;return Object(u.jsx)(S.a,{className:"".concat(t.root," ").concat(t[r]||"theme"),onClick:c,variant:o||"outlined",size:s||"small",...n,children:a})},P=r(251);const I=Object(f.a)((e=>({root:{height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}})));var E=e=>{const t=I(),{children:r,...a}=e;return Object(u.jsx)(P.a,{className:t.root,...a,children:r})};const D=Object(f.a)((e=>({root:{margin:e.spacing(.5)},label:{textTransform:"none"},shape:{borderRadius:"4px"}})));var T=e=>{const t=D(),{text:r,size:a,color:c,variant:o,onClick:s,...n}=e;return Object(u.jsx)(S.a,{className:t.shape,classes:{root:t.root,label:t.label},variant:o||"contained",size:a||"small",color:c||"primary",onClick:s,...n,children:r})},A=r(3),_=r(255);const B=Object(f.a)({list:{width:"15Rem"},fullList:{width:"auto"}});var z=r(221);var R=e=>{const{variant:t,size:r,color:a,ariaLabel:c,disabled:o,children:s,...n}=e;return Object(u.jsx)(z.a,{variant:t||"round",size:r||"small",color:a||"inherit","aria-label":c||"myfab",disabled:o,...n,children:s})},F=r(107);var L=e=>{const{name:t,value:r,label:a,errorText:c=null,onChange:o,...s}=e;return Object(u.jsx)(F.a,{label:a,value:r,onChange:o,name:t,...s,...c&&{error:!0,helperText:c}},a)},M=r(122),H=r(125);var U=e=>{const{children:t,anchorEl:r,handleMenuClose:a,isMenuOpen:c,menuId:o}=e;return Object(u.jsx)("div",{children:Object(u.jsx)(M.a,{anchorEl:r,id:o,open:c,keepMounted:!0,onClose:a,TransitionComponent:H.a,children:t})})},q=r(257),J=r(252);const W=Object(f.a)((e=>({root:{top:e.spacing(10)}})));var K=e=>{const t=W(),{notify:r,setNotify:a}=e,c=(e,t)=>{"clickaway"!=t&&a({alertMessage:"",alertType:"",isOpen:!1})};return Object(u.jsx)(q.a,{className:t.root,open:r.isOpen,autoHideDuration:3e3,anchorOrigin:{vertical:"top",horizontal:"right"},onClose:c,children:Object(u.jsx)(J.a,{severity:r.alertType,onClose:c,children:r.alertMessage})})};const G=Object(f.a)((e=>({root:{height:"100%",width:"100%"}})));var V=e=>{const t=G(),{elevation:r,children:a,...c}=e;return Object(u.jsx)(v.a,{className:t.root,elevation:r||3,...c,children:a})},Y=r(224),Z=r(225),$=r(227),Q=r(228),X=r(226);const ee=Object(f.a)((e=>({dialogWrapper:{padding:e.spacing(2),position:"absolute",top:e.spacing(5)}})));var te=e=>{const t=ee(),{title:r,children:a,openPopup:o,setOpenPopup:s,handleClosePopup:n}=e;return Object(u.jsxs)(Y.a,{open:o,maxWidth:"md",classes:{paper:t.dialogWrapper},onBackdropClick:n,children:[r&&Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsx)(Z.a,{children:Object(u.jsxs)("div",{style:{display:"flex"},children:[Object(u.jsx)(N.a,{variant:"h6",component:"div",style:{flexGrow:1},children:r}),Object(u.jsx)(ne.ActionIconButton,{onClick:n,children:Object(u.jsx)(X.a,{})})]})}),Object(u.jsx)($.a,{})]}),Object(u.jsx)(Q.a,{children:Object(u.jsx)(ne.Paper,{children:a})})]})},re=r(229),ae=r(253),ce=r(230);function oe(e){const{children:t,value:r,index:a,...c}=e;return Object(u.jsx)("div",{role:"tabpanel",hidden:r!==a,id:"tabpanel-".concat(a),"aria-labelledby":"tab-".concat(a),...c,children:r===a&&Object(u.jsx)(P.a,{p:3,children:t})})}const se=Object(f.a)((e=>({root:{flexGrow:1,padding:e.spacing(1),width:"100%",height:"100%",borderRadius:e.shape.borderRadius,backgroundColor:e.palette.background.default},appBar:{background:e.palette.background.white,boxShadow:"0 3px 5px 2px rgba(0, 0, 0, .3)"}})));const ne={ActionIconButton:k,Box:E,Button:T,Drawer:function(e){const{toggleDrawer:t,drawerOpen:r}=e,a=B();return Object(u.jsx)("div",{children:Object(u.jsx)(c.a.Fragment,{children:Object(u.jsx)(_.a,{anchor:"right",open:r,onClose:t,children:(o="anchor",Object(u.jsx)("div",{className:Object(A.a)(a.list,{[a.fullList]:"top"===o||"bottom"===o}),role:"presentation",onClick:t,onKeyDown:t,children:e.children}))})},"right")});var o},Fab:R,Form:e=>{const{children:t,...r}=e,a=C();return Object(u.jsx)("form",{className:a.root,...r,children:t})},Input:L,Menu:U,Notification:K,Paper:V,PopupDialog:te,Tabs:e=>{const[t,r]=c.a.useState(0),{tabsList:a,variant:o}=e,s=se();return Object(u.jsxs)("div",{className:s.root,children:[Object(u.jsx)(re.a,{position:"static",className:s.appBar,children:Object(u.jsx)(ae.a,{value:t,indicatorColor:"primary",textColor:"secondary",onChange:(e,t)=>{r(t)},variant:o||"fullWidth",scrollButtons:"on",children:a.length>0&&a.map((e=>Object(u.jsx)(ce.a,{wrapped:!0,label:e.label})))})}),a.length>0&&a.map(((e,r)=>Object(u.jsx)(oe,{value:t,index:r,children:e.component},r)))]})},useForm:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};const[c,o]=Object(a.useState)(e),[s,n]=Object(a.useState)({});return{values:c,setValues:o,errors:s,setErrors:n,resetForm:()=>{o(e),n({})},handleInputChange:e=>{const{name:a,value:s}=e.target;o({...c,[a]:s}),t&&r({[a]:s})}}}},ie=Object(f.a)((e=>({root:{backgroundColor:e.palette.background.default,display:"flex",height:"100%",background:"linear-gradient(185deg,".concat(e.palette.secondary.main," 4%, white 30%)"),boxShadow:"0 -2px 7px 2px rgba(255, 98, 0, 0.2)",justifyContent:"center",transform:"translateZ(19.7rem)"}})));var le=()=>{const e=ie();return Object(u.jsx)(v.a,{elevation:2,square:!0,className:e.root,children:Object(u.jsxs)(N.a,{component:"div",children:["if you got any questions - ",Object(u.jsx)(ne.Button,{text:"Contact Us",color:"secondary"})]})})},de=r(174),je=r(232),he=r(233),pe=r(103),me=r(234),be=r(235),ue=r(236);const Oe=(e,t,r)=>void 0!==typeof window?localStorage.getItem("jwt")?fetch("".concat(x.API,"/cartItem/modify"),{method:"POST",headers:{Accept:"application/json","content-type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify({product:e._id,user:t._id,quantity:e.count})}).then((e=>e.json())).catch((e=>{console.log("Error modify Item  : "+e)})):(console.log("Need to login"),{error:"Please Login to add items to cart"}):{error:"No Window Found"},ge=e=>fetch("".concat(x.API,"/cartItems"),{method:"GET",headers:{Accept:"application/json","content-type":"application/json",Authorization:"Bearer ".concat(e)}}).then((e=>e.json())).catch((e=>{console.log("Error Loading user cart Items  : "+e)}));var xe=r(231);const ye={email:"a8@test.com",password:"a008@1",error:"",didRedirect:!1};var fe=e=>{const{setNotify:t}=e,{user:r}=b(),a=Object(i.g)(),{values:c,setValues:o,errors:s,setErrors:n,handleInputChange:l,resetForm:d}=ne.useForm(ye,!0,(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t={...s};if("email"in e&&(t.email=/$^|.+@+..+/.test(e.email)?"":"Valid Email is required"),"password"in e&&(t.password=e.password.length>0?"":"This field is required"),n({...t}),e===c)return Object.values(t).every((e=>""==e))}));return Object(u.jsxs)(ne.Form,{onSubmit:e=>{e.preventDefault(),o({...c,error:!1}),p({email:c.email,password:c.password}).then((e=>{e.error?t({isOpen:!0,alertMessage:JSON.stringify(e.error),alertType:"error"}):m(e,(()=>{o({...c,email:"",password:"",error:!1,loading:!1,didRedirect:!0})}))})).catch((e=>{console.log("Error in Signin : "+e)}))},children:[Object(u.jsxs)(xe.a,{container:!0,justify:"center",align:"center",children:[Object(u.jsxs)(xe.a,{item:!0,sm:12,xs:12,children:[Object(u.jsx)(ne.Input,{label:"Email",value:c.email,onChange:l,name:"email",errorText:s.email}),Object(u.jsx)(ne.Input,{label:"Password",value:c.password,onChange:l,name:"password",errorText:s.password,type:"password"})]}),Object(u.jsx)(ne.Button,{color:"secondary",text:"SignIn",type:"submit",size:"medium"})]}),void(c.didRedirect&&(r&&1==r.role?a.push("/admin/dashboard"):a.push("/user/dashboard")))]})};const ve={name:"",email:"",password:"",error:"",didRedirect:!1};var Ne=e=>{const{notify:t,setNotify:r}=e,{user:a}=b(),c=Object(i.g)(),{values:o,setValues:s,errors:n,setErrors:l,handleInputChange:d,resetForm:j}=ne.useForm(ve,!0,(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t={...n};if("name"in e&&(t.name=e.name.length>0?"":"This field is required"),"email"in e&&(t.email=/$^|.+@+..+/.test(e.email)?"":"Valid Email is required"),"password"in e&&(t.password=e.password.length>0?"":"This field is required"),"role"in e&&(t.password=e.role.length>0?"":"This field is required"),l({...t}),e===o)return Object.values(t).every((e=>""==e))}));return Object(u.jsxs)(ne.Form,{onSubmit:e=>{e.preventDefault(),s({...o,error:!1}),(e=>fetch("".concat(h,"/signup"),{method:"POST",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then((e=>e.json())).catch((e=>{console.log(e)})))({name:o.name,email:o.email,password:o.password,role:o.role}).then((e=>{e.error?r({isOpen:!0,alertMessage:JSON.stringify(e.error),alertType:"error"}):p({email:o.email,password:o.password}).then((e=>{m(e,(()=>{j(),s({...o,error:!1,didRedirect:!0})}))}))})).catch((e=>{console.log("Error in Signing Up : "+e)}))},children:[Object(u.jsxs)(xe.a,{container:!0,justify:"center",align:"center",children:[Object(u.jsxs)(xe.a,{item:!0,sm:12,xs:12,children:[Object(u.jsx)(ne.Input,{label:"Name",value:o.name,onChange:d,name:"name",errorText:n.name}),Object(u.jsx)(ne.Input,{label:"Email",value:o.email,onChange:d,name:"email",errorText:n.email}),Object(u.jsx)(ne.Input,{label:"Password",value:o.password,onChange:d,name:"password",errorText:n.password,type:"password"})]}),Object(u.jsx)(ne.Button,{color:"secondary",text:"Sign Up",type:"submit",size:"medium"})]}),void(o.didRedirect&&(a&&1==a.role?c.push("/admin/dashboard"):c.push("/user/dashboard")))]})};var Ce=e=>{const[t,r]=Object(a.useState)({isOpen:!1,alertMessage:"",alertType:""}),{openPopup:c=!0,handleClosePopup:o}=e,s=[{label:"SignIn",component:Object(u.jsx)(fe,{notify:t,setNotify:r})},{label:"SignUp",component:Object(u.jsx)(Ne,{notify:t,setNotify:r})}];return Object(u.jsx)("div",{children:Object(u.jsxs)(ne.PopupDialog,{openPopup:c,handleClosePopup:o,children:[Object(u.jsx)(ne.Notification,{notify:t,setNotify:r}),Object(u.jsx)(ne.Paper,{children:Object(u.jsx)(ne.Tabs,{tabsList:s})})]})})};const Se=Object(f.a)((e=>({menuButton:{marginRight:e.spacing(2)},title:{},grow:{flexGrow:1},root:{height:"100%",backgroundColor:e.palette.theme.main,transform:"translateZ(-19.7rem)",background:"linear-gradient(165deg,white 75%,".concat(e.palette.theme.main,"  95%)"),boxShadow:"0 3px 5px 2px rgba(0, 224, 206, .3)"}})));var we=e=>{const t=Se(),r=Object(i.g)(),[o,s]=Object(a.useState)(!1),[n,l]=Object(a.useState)([]),[d,j]=Object(a.useState)(!1),{user:p,token:m}=b();Object(a.useEffect)((()=>{(async()=>{b()&&await ge(m).then((e=>{e&&!e.error&&(e=e.filter((e=>e.product&&e.user)),l(e))}))})()}),[]);const O=e=>{("keydown"!==e.type||"Tab"!==e.key&&"Shift"!==e.key)&&j(!d)},g=()=>{r.push("/cart")},x=Object(u.jsx)(Ce,{openPopup:o,handleClosePopup:()=>{s(!1)}}),y=Object(u.jsx)(ne.Drawer,{toggleDrawer:O,drawerOpen:d,children:b()&&Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsx)(de.a,{button:!0,onClick:()=>{r.push("1"==p.role?"/admin/dashboard":"/user/dashboard")},children:Object(u.jsx)(je.a,{primary:"Dashboard"})},"Dashboard"),Object(u.jsx)(de.a,{button:!0,onClick:()=>{(e=>{if("undefined"!==typeof window)localStorage.removeItem("jwt"),e(),fetch("".concat(h,"/signout"),{method:"GET"}).then((()=>{console.log("Signout Success")})).catch((e=>{console.log(e)}))})((()=>{})),r.push("/")},children:Object(u.jsx)(je.a,{primary:"SignOut"})},"SignOut")]})});return Object(u.jsxs)(re.a,{position:"static",className:t.root,children:[Object(u.jsxs)(he.a,{children:[Object(u.jsxs)(ne.ActionIconButton,{onClick:()=>{r.push("/")},children:[Object(u.jsx)(me.a,{}),Object(u.jsx)("strong",{children:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SHOP_BRAND||"Your Brand"})]}),Object(u.jsx)("div",{className:t.grow}),Object(u.jsxs)("div",{className:t.sectionDesktop,children:[b()&&Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsx)(ne.ActionIconButton,{color:"inherit","data-testid":"cart-icon",onClick:g,children:Object(u.jsx)(pe.a,{badgeContent:n.length,color:"secondary",children:Object(u.jsx)(be.a,{onClick:g})})}),Object(u.jsx)(ne.ActionIconButton,{color:"inherit","data-testid":"account-toggle",onClick:O,children:Object(u.jsx)(ue.a,{})})]}),!b()&&Object(u.jsx)(ne.Button,{text:"Login",onClick:()=>{s(!0)}})]})]}),x,y]})},ke=r(237),Pe=r(238),Ie=r(64);const Ee=Object(Ie.a)({palette:{secondary:{main:"#D8D28C",light:"#D8D28C"},theme:{main:"#FFEF33",light:"#D8D28C"},primary:{main:"#D8D28C",light:"#D8D28C"},background:{white:"#ffffff",default:"#f2f2f2",light:"#a8a8a8",dark:"#000000"}},shape:{borderRadius:"12px"},props:{MuiIconButton:{disableRipple:!0}}}),De=Object(f.a)((e=>({root:{backgroundColor:e.palette.background.default},pageHeader:{padding:e.spacing(4),display:"flex",marginBotton:e.spacing(2),background:"linear-gradient(190deg,white 75%, ".concat(e.palette.secondary.main,"  95%)"),boxShadow:"0 3px 5px 2px rgba(255, 98, 0, .2)"},pageIcon:{display:"inline-block",padding:e.spacing(2),color:e.palette.primary,backgroundColor:e.palette.background},pageTitle:{paddingLeft:e.spacing(2),justifyContent:"center",alignItems:"center","& .MuiTypography-subtitle2":{opacity:"0.7"}}})));var Te=e=>{const t=De(),{title:r,description:a}=e;return Object(u.jsx)(v.a,{elevation:4,className:t.root,children:Object(u.jsx)("div",{className:t.pageHeader,children:Object(u.jsxs)("div",{className:t.pageTitle,children:[Object(u.jsx)(N.a,{variant:"h4",component:"div",children:Object(u.jsxs)("strong",{children:[" ",r]})}),Object(u.jsx)(N.a,{variant:"subtitle2",component:"div",children:a})]})})})};const Ae=Object(f.a)((e=>({appMain:{width:"100%",backgroundColor:e.palette.background.light},appHeader:{height:"8vh"},appBody:{height:"87vh",overflow:"auto"},appBodyChildren:{height:"100%",marginTop:e.spacing(1),marginBottom:e.spacing(1)},appFooter:{height:"5vh"}})));var _e=e=>{let{title:t="My Title",description:r="My Description",className:a="text-white p-2",children:o}=e;const s=Ae();return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsx)(c.a.Fragment,{children:Object(u.jsxs)(ke.a,{theme:Ee,children:[Object(u.jsxs)("div",{className:s.appMain,children:[Object(u.jsx)("div",{className:s.appHeader,children:Object(u.jsx)(we,{})}),Object(u.jsxs)("div",{className:s.appBody,children:[Object(u.jsx)(Te,{title:t,description:r}),Object(u.jsx)("div",{className:s.appBodyChildren,children:o})]}),Object(u.jsx)("div",{className:s.appFooter,children:Object(u.jsx)(le,{})})]}),Object(u.jsx)(Pe.a,{})]})})})},Be=r(239),ze=r(240),Re=r(243),Fe=r(258),Le=r(241),Me=r(242),He=r(62),Ue=r(244),qe=r(245),Je=r(246);const We=Object(f.a)((e=>({root:{margin:e.spacing(1),transition:"transform 0.15s ease-in-out"},expand:{transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"}}))),Ke=["Description","Price","Stock"];var Ge=e=>{const{product:t,quantity:r=0,notify:o,setNotify:s}=e,n=We(),[i,l]=Object(a.useState)(!1),[d,j]=Object(a.useState)(r),[h,p]=Object(a.useState)(!1),[m,O]=Object(a.useState)(!0),[g,x]=Object(a.useState)(!0),{user:y,token:f}=b(),C=async()=>{if(b()){t.count=d;let e=await Oe(t,y,f);e.error?s({isOpen:!0,alertMessage:e.error,alertType:"error"}):(j(0),O(!0))}else s({isOpen:!0,alertMessage:"Please Sign In to Add items to Cart",alertType:"error"})},S=(e,r)=>{e.preventDefault();let a=d+r;a>=0&&j(a),p(a===t.stock),O(0===a),x(!(a>0))};return Object(u.jsxs)(Le.a,{className:n.root,children:[Object(u.jsxs)(v.a,{elevation:5,children:[Object(u.jsx)(Me.a,{style:{height:0,paddingTop:"56.25%"},image:t.image,title:t.name}),Object(u.jsxs)(xe.a,{container:!0,alignItems:"center",noWrap:!0,children:[Object(u.jsx)(He.a,{children:Object(u.jsx)(Re.a,{className:Object(A.a)(n.expand,{[n.expandOpen]:i}),onClick:()=>{l(!i)},"aria-expanded":i,"aria-label":"Description",fontSize:"large"})}),Object(u.jsx)(N.a,{variant:"h5",component:"p",children:t.name})]})]}),Object(u.jsx)(xe.a,{container:!0,children:Object(u.jsx)(xe.a,{item:!0,xs:12,sm:12,lg:12,children:Object(u.jsx)(Ue.a,{children:Object(u.jsx)(xe.a,{item:!0,xs:12,sm:12,lg:12,container:!0,direction:"row",justify:"center",alignItems:"center",children:Object(u.jsxs)(xe.a,{container:!0,xs:12,sm:12,md:12,lg:12,direction:"row",justify:"space-between",children:[Object(u.jsx)(ne.Fab,{color:"secondary",disabled:m,children:Object(u.jsx)(Be.a,{onClick:e=>S(e,-1)})}),Object(u.jsx)(Fe.a,{children:d}),Object(u.jsx)(ne.Fab,{color:"primary",disabled:h,children:Object(u.jsx)(ze.a,{onClick:e=>S(e,1)})}),Object(u.jsx)(ne.Button,{text:"Add to Cart",onClick:C,size:"medium",disabled:g,color:"inherit"})]})})})})}),Object(u.jsx)(qe.a,{in:i,timeout:"auto",unmountOnExit:!0,children:Object(u.jsx)(Je.a,{children:Ke.map((e=>Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsxs)(N.a,{variant:"h6",children:[e," "]}),Object(u.jsx)(N.a,{paragraph:!0,children:"Price"===e?"Rs.".concat(t[e.toLowerCase()]," /-"):t[e.toLowerCase()]})]})))})})]})},Ve=r(247);var Ye=()=>Object(u.jsxs)("div",{className:"row bg-secondary bg-gradient",style:{justifyContent:"center"},children:[Object(u.jsx)(Ve.a,{color:"primary"}),Object(u.jsx)(Ve.a,{}),Object(u.jsx)(Ve.a,{color:"secondary"})]});const Ze=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return fetch("".concat(x.API,"/categories?limit=").concat(e),{method:"GET",headers:{Accept:"application/json","content-type":"application/json"}}).then((e=>e.json())).catch((e=>{console.log("Error getting all categories : ")}))},$e=(e,t)=>fetch("".concat(x.API,"/category/").concat(e),{method:"DELETE",headers:{Accept:"application/json","content-type":"application/json",Authorization:"Bearer ".concat(t)}}).then((e=>e.json())).catch((e=>{console.log(e),console.log("Error Deleting the category ")}));function Qe(){const[e,t]=Object(a.useState)({products:[],categories:[],isSuccess:!1,loading:!0}),[r,c]=Object(a.useState)({isOpen:!1,alertMessage:"",alertType:""}),{loading:o,products:s,categories:n}=e;Object(a.useEffect)((()=>{y(0).then((r=>{if(r)if(r.error)t({...e,error:r.error,loading:!1}),c({isOpen:!0,alertMessage:r.error,alertType:"error"});else{let a=r.map((e=>e.category));a=[...new Set(a.map((e=>JSON.stringify(e))))].map((e=>JSON.parse(e))),t({...e,products:r,categories:a,loading:!1})}else t({...e,error:"No Products Data",loading:!1}),c({isOpen:!0,alertMessage:"Error Getting Product data",alertType:"error"})}))}),[]);return Object(u.jsxs)(_e,{title:"Homepage",description:"Please find the products here",children:[o&&Ye(),Object(u.jsx)(ne.Notification,{notify:r,setNotify:c}),!o&&n.length>0&&Object(u.jsx)(ne.Tabs,{variant:"scrollable",tabsList:n.map((e=>{let t=s.filter((t=>t.category._id===e._id));const a=t.length>0&&Object(u.jsx)(xe.a,{container:!0,children:t.map((e=>Object(u.jsx)(xe.a,{item:!0,xs:12,sm:6,md:4,lg:3,xl:2,children:Object(u.jsx)(Ge,{product:e,notify:r,setNotify:c})})))});return{label:e.name,component:a}}))})]})}var Xe=r(248);const et=Object(f.a)((e=>({root:{display:"flex",flexDirection:"row",margin:e.spacing(1)},media:{height:100,width:"100%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"}}))),tt=["Description","Price"];var rt=e=>{const{item:t,refreshCart:r}=e,o=et(),[s,n]=Object(a.useState)(!1),[i,l]=Object(a.useState)(!1),[d,j]=Object(a.useState)(t.quantity),[h,p]=Object(a.useState)(!1),[m,O]=Object(a.useState)(!0),[g,y]=Object(a.useState)(!1),[f,v]=Object(a.useState)(""),{user:C,token:S}=b(),w=e.item.product;Object(a.useEffect)((()=>{O(d<=0)}),[]);const k=async(t,r)=>{let a=d+r;a>=0&&(await(async t=>{w.count=t;let r=await Oe(w,C,S);r.error?(v(r.error),y(!0)):e.refreshCart()})(r),j(a)),p(a===w.stock),O(0===a)};return Object(u.jsx)(Le.a,{className:o.root,children:Object(u.jsxs)(xe.a,{container:!0,children:[Object(u.jsx)(xe.a,{item:!0,xs:3,sm:3,md:3,lg:2,children:Object(u.jsx)(ne.Paper,{square:!0,children:Object(u.jsx)(Me.a,{image:w.image,title:w.name,className:o.media})})}),Object(u.jsx)(xe.a,{item:!0,xs:9,sm:9,md:9,lg:5,children:Object(u.jsxs)(ne.Paper,{square:!0,children:[Object(u.jsx)(N.a,{variant:"h6",component:"p",children:w.name}),Object(u.jsx)(He.a,{children:Object(u.jsx)(Re.a,{className:Object(A.a)(o.expand,{[o.expandOpen]:s}),onClick:()=>{n(!s)},"aria-expanded":s,"aria-label":"Description",color:"default",fontSize:"small"})})]})}),Object(u.jsx)(xe.a,{item:!0,xs:6,sm:3,md:3,lg:2,justify:"center",children:Object(u.jsx)(ne.Box,{justify:"space-between",children:Object(u.jsx)(Ue.a,{children:Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsx)(z.a,{size:"small",color:"secondary","aria-label":"remove",disabled:m,children:Object(u.jsx)(Be.a,{onClick:e=>k(0,-1)})}),Object(u.jsx)(z.a,{size:"small",color:"default","aria-label":"count",children:Object(u.jsx)("strong",{children:d})}),Object(u.jsx)(z.a,{size:"small",color:"primary","aria-label":"add",disabled:h,children:Object(u.jsx)(ze.a,{onClick:e=>k(0,1)})})]})})})}),Object(u.jsx)(xe.a,{item:!0,xs:6,sm:6,md:6,lg:1,justify:"center",alignItems:"center",children:Object(u.jsx)(ne.Box,{children:Object(u.jsx)(ne.Button,{variant:"contained",color:"secondary",startIcon:Object(u.jsx)(Xe.a,{}),onClick:async()=>{let t=await((e,t)=>fetch("".concat(x.API,"/cartItem/").concat(e),{method:"DELETE",headers:{Accept:"application/json","content-type":"application/json",Authorization:"Bearer ".concat(t)}}).then((e=>e.json())).catch((e=>{console.log("Error deleting Cart Item  : "+e)})))(e.item._id,S);t.error&&v(t.error),e.refreshCart()},text:"Remove"})})}),Object(u.jsx)(xe.a,{item:!0,"off-set":8,xs:4,sm:3,md:3,lg:2,children:Object(u.jsx)(ne.Box,{justify:"right",children:Object(u.jsxs)(N.a,{noWrap:!0,children:["Amount ",Object(u.jsx)("br",{})," Rs.",(d*w.price).toFixed(2)]})})}),Object(u.jsx)(qe.a,{in:s,timeout:"auto",unmountOnExit:!0,children:Object(u.jsx)(Je.a,{children:tt.map((e=>Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsxs)(N.a,{variant:"h6",children:[e," "]}),Object(u.jsx)(N.a,{paragraph:!0,children:"Price"===e?"Rs.".concat(w[e.toLowerCase()]," /-"):w[e.toLowerCase()]})]})))})})]})})};var at=()=>{const[e,t]=Object(a.useState)({cartItems:[],isSuccess:!1,loading:!0,reload:!1}),[r,o]=Object(a.useState)(0),[s,i]=Object(a.useState)(!1),[l,d]=Object(a.useState)({isOpen:!1,alertMessage:"",alertType:""}),{loading:j,cartItems:h,isSuccess:p}=e,{user:m,token:O}=b();Object(a.useEffect)((async()=>{await(async()=>{t({...e,loading:!0}),await ge(O).then((r=>{if(!r.error){r=r.filter((e=>e.product&&e.user)),t({...e,cartItems:r,isSuccess:!0,loading:!1});let a=x(r);return o(a),console.log("here"),r}t({...e,loading:!1}),d({isOpen:!0,alertMessage:r.error,alertType:"error"})}))})();console.log("here2")}),[s]);const g=()=>{i(!s)},x=e=>e.reduce(((e,t)=>e+t.total),0).toFixed(2);return Object(u.jsxs)(_e,{title:"Cart Page",description:"Checkout the items",children:[j&&Ye(),Object(u.jsx)(ne.Notification,{notify:l,setNotify:d}),Object(u.jsxs)("div",{children:[h.length>0&&Object(u.jsxs)("div",{children:[Object(u.jsx)(c.a.Fragment,{children:h.map(((e,t)=>Object(u.jsx)(rt,{item:e,quantity:e.quantity,refreshCart:g},t)))}),Object(u.jsx)(ne.Paper,{children:(y=r,Object(u.jsxs)(xe.a,{container:!0,justify:"flex-end",children:[Object(u.jsx)(ne.Box,{children:Object(u.jsxs)(N.a,{variant:"h5",children:["Total cart Amount: ",y]})}),Object(u.jsx)(ne.Box,{children:Object(u.jsx)(ne.Button,{text:"Check Out",size:"large",variant:"contained",component:n.b,to:{pathname:"/checkout",params:{cartItems:h,refreshCart:{handleRefreshCart:g}}}})})]}))})]}),p&&0==e.cartItems.length&&Object(u.jsx)("div",{className:"row",style:{justifyContent:"center",padding:2},children:Object(u.jsx)("div",{className:"col-md-12 bg-danger bg-gradient text-center",children:Object(u.jsx)("p",{children:"Cart is empty"})})})]})]});var y};var ct=()=>{const{user:e}=b();return Object(u.jsx)(_e,{title:"Admin Dashboard Page",description:"Manage your shop here",className:" bg-secondary bg-gradient p-2",children:Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col-lg-3 col-md-3 col-sm-12",children:Object(u.jsxs)("div",{className:"accordion",id:"adminLeftAccordion",children:[Object(u.jsxs)("div",{className:"accordion-item",children:[Object(u.jsx)("h2",{className:"accordion-header",id:"headingCategories",children:Object(u.jsx)("button",{className:"accordion-button btn text-dark",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseCategories",children:"Categories"})}),Object(u.jsx)("div",{id:"collapseCategories",className:"accordion-collapse collapse","data-bs-parent":"#adminLeftAccordion",children:Object(u.jsxs)("ul",{className:"list-group",children:[Object(u.jsx)("li",{className:"list-group-item",children:Object(u.jsx)(n.b,{to:"/admin/create/category",className:"nav-link text-dark",children:"Create Category"})}),Object(u.jsx)("li",{className:"list-group-item",children:Object(u.jsx)(n.b,{to:"/admin/manage/categories",className:"nav-link text-dark",children:"Manage Category"})})]})})]}),Object(u.jsxs)("div",{className:"accordion-item",children:[Object(u.jsx)("h2",{className:"accordion-header",id:"headingProducts",children:Object(u.jsx)("button",{className:"accordion-button btn text-dark",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseProducts",children:"Products"})}),Object(u.jsx)("div",{id:"collapseProducts",className:"accordion-collapse collapse","data-bs-parent":"#adminLeftAccordion",children:Object(u.jsxs)("ul",{className:"list-group",children:[Object(u.jsx)("li",{className:"list-group-item",children:Object(u.jsx)(n.b,{to:"/admin/create/product",className:"nav-link text-dark",children:"Create Product"})}),Object(u.jsx)("li",{className:"list-group-item",children:Object(u.jsx)(n.b,{to:"/admin/manage/products",className:"nav-link text-dark",children:"Manage Product"})})]})})]})]})}),Object(u.jsx)("div",{className:"col-lg-9 col-md-9 col-sm-12",children:Object(u.jsxs)("div",{className:"card",children:[Object(u.jsx)("h4",{className:"card-header",children:"Admin Details"}),Object(u.jsxs)("ul",{className:"list-group",children:[Object(u.jsxs)("li",{className:"list-group-item",children:[Object(u.jsx)("span",{className:"badge bg-secondary",children:" Name "})," ",e.name]}),Object(u.jsxs)("li",{className:"list-group-item",children:[Object(u.jsx)("span",{className:"badge bg-secondary",children:" Email "})," ",e.email]}),Object(u.jsxs)("li",{className:"list-group-item",children:[Object(u.jsx)("span",{className:"badge bg-danger",children:" Admin "})," ",e.role]})]})]})})]})})};var ot=()=>Object(u.jsx)(_e,{title:"UserDashboard Page"}),st=r(66),nt=r(65),it=r.n(nt);const lt=()=>Object(u.jsx)("div",{className:"col-md-12",children:Object(u.jsx)(n.b,{className:"btn btn-secondary btn-md rounded my-2",to:"/admin/dashboard",children:"Go To Dashboard"})});var dt=()=>{const[e,t]=Object(a.useState)(""),[r,c]=Object(a.useState)(!1),[o,s]=Object(a.useState)(!1),[n,i]=Object(a.useState)([]),l=e=>{s(!1),c("")},{user:d,token:j}=b(),h=()=>{Ze(25).then((e=>i(e))).catch((e=>{console.log("Error fetching all categories : "+e)}))};Object(a.useEffect)(h,[o]);Object(a.useEffect)(h,[]);const p=[{field:"CategoryName",headerName:"Category name",width:200},{field:"actionUpdate",headerName:"Update",width:200,renderCell:e=>Object(u.jsx)("strong",{children:Object(u.jsx)(S.a,{variant:"contained",href:"/admin/update/category/".concat(e.id),children:"Update"})})},{field:"action",headerName:"",renderCell:e=>Object(u.jsx)("strong",{children:Object(u.jsx)(it.a,{onClick:t=>{return r=t,a=e.id,r.preventDefault(),c(""),s(!1),void $e(a,j).then((e=>{e.error?c(e.error):(c(""),s("Deleted"))})).catch((e=>{console.log("Error deleting cateogry : "+e)}));var r,a}})})}],m=n.map((e=>({CategoryName:e.name,id:e._id})));return Object(u.jsxs)(_e,{title:"Manage Categories",description:"Manage your catgories",className:"bg-secondary p-1",children:[Object(u.jsxs)("div",{className:"row bg-light text-left",children:[Object(u.jsx)("div",{className:"row",children:lt()}),Object(u.jsx)("div",{className:"col-md-8",children:Object(u.jsx)(xe.a,{spacing:2,children:Object(u.jsx)(xe.a,{item:!0,xs:12,children:Object(u.jsx)("div",{style:{height:300},children:Object(u.jsx)(st.a,{rows:m,columns:p,autoPageSize:!0})})})})})]}),Object(u.jsx)("div",{className:"row",children:Object(u.jsx)(q.a,{open:0!=o,autoHideDuration:6e3,onClose:l,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:Object(u.jsx)(J.a,{onClose:l,severity:"success",children:Object(u.jsxs)("p",{children:["Category has been successfully ",o]})})})}),Object(u.jsx)("div",{className:"row",children:Object(u.jsx)(q.a,{open:""!=r,autoHideDuration:6e3,onClose:l,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:Object(u.jsx)(J.a,{onClose:l,severity:"error",children:Object(u.jsx)("p",{children:JSON.stringify(r)})})})})]})};var jt=()=>{const[e,t]=Object(a.useState)(""),[r,c]=Object(a.useState)(!1),[o,s]=Object(a.useState)(!1),[n,i]=Object(a.useState)([]),[l,d]=Object(a.useState)(!1),j=e=>{s(!1),c("")},{user:h,token:p}=b(),m=()=>{Ze(25).then((e=>i(e))).catch((e=>{console.log("Error fetching all categories : "+e)}))};Object(a.useEffect)(m,[o]);const O=e=>{c(""),t(e.target.value)},g=r=>{r.preventDefault(),c(""),s(!1),((e,t)=>fetch("".concat(x.API,"/category/create"),{method:"POST",headers:{Accept:"application/json","content-type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(e)}).then((e=>e.json())).catch((e=>{console.log("Error creating category : "+e)})))({name:e},p).then((e=>{e.error?c(e.error):(c(""),s("Created"),t(""))})).catch((e=>{console.log("Error creating cateogry : "+e)}))};Object(a.useEffect)(m,[]);const y=[{field:"CategoryName",headerName:"Category name",width:200},{field:"action",headerName:"",renderCell:e=>Object(u.jsx)("strong",{children:Object(u.jsx)(it.a,{onClick:t=>{return r=t,a=e.id,r.preventDefault(),c(""),s(!1),void $e(a,p).then((e=>{e.error?c(e.error):(c(""),s("Deleted"))})).catch((e=>{console.log("Error deleting cateogry : "+e)}));var r,a}})})}],f=n.map((e=>({CategoryName:e.name,id:e._id})));return Object(u.jsxs)(_e,{title:"Create Categories",description:"Create your catgories",className:"bg-secondary",children:[Object(u.jsxs)("div",{className:"row bg-light text-left",children:[Object(u.jsx)("div",{children:lt()}),Object(u.jsx)("div",{className:"col-md-8",children:Object(u.jsxs)("form",{children:[Object(u.jsxs)("div",{className:"row-md-4",children:[Object(u.jsx)("label",{className:"form-label",children:"Category Name :"}),Object(u.jsx)("input",{type:"text",className:"form-control",onChange:O,value:e,autoFocus:!0,required:!0,placeholder:"Enter catefory name E.g:Shirts"})]}),Object(u.jsx)("div",{className:"row-md-4",children:Object(u.jsx)("div",{className:"col-md-4",children:Object(u.jsx)("button",{type:"submit",onClick:g,className:"btn btn-primary rounded my-2",children:"Create Category"})})})]})}),Object(u.jsx)("div",{className:"col-md-8",children:Object(u.jsx)(xe.a,{spacing:2,children:Object(u.jsx)(xe.a,{item:!0,xs:12,children:Object(u.jsx)("div",{style:{height:300},children:Object(u.jsx)(st.a,{rows:f,columns:y,autoPageSize:!0})})})})})]}),Object(u.jsx)("div",{className:"row",children:Object(u.jsx)(q.a,{open:0!=o,autoHideDuration:6e3,onClose:j,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:Object(u.jsx)(J.a,{onClose:j,severity:"success",children:Object(u.jsxs)("p",{children:["Category has been successfully ",o]})})})}),Object(u.jsx)("div",{className:"row",children:Object(u.jsx)(q.a,{open:""!=r,autoHideDuration:6e3,onClose:j,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:Object(u.jsx)(J.a,{onClose:j,severity:"error",children:Object(u.jsx)("p",{children:JSON.stringify(r)})})})})]})},ht=r(178);var pt=()=>{const[e,t]=Object(a.useState)({name:"",description:"",price:0,stock:0,sold_units:0,image:"",categories:[],category:"",loading:!0,error:"",isSuccess:!1,getRedirect:!1,formData:new FormData}),{user:r,token:c}=b(),{name:o,description:s,price:n,stock:l,sold_units:d,image:j,categories:h,category:p,loading:m,error:O,isSuccess:g,getRedirect:y,formData:f}=e;Object(a.useEffect)((()=>{Ze().then((r=>{r.error?t({...e,error:r.error}):t({...e,categories:r,loading:!1})}))}),[]);const v=r=>a=>{const c="image"===r?a.target.files[0]:a.target.value;f.set(r,c),t({...e,[r]:c})},N=()=>{t("created"==g?{...e,error:"",isSuccess:!1,getRedirect:!0}:{...e,error:"",isSuccess:!1})},C=r=>{r.preventDefault(),t({...e,error:"",loading:!0}),((e,t)=>fetch("".concat(x.API,"/product/create"),{method:"POST",headers:{Authorization:"Bearer ".concat(e)},body:t}).then((e=>e.json())).catch((e=>{console.log("Error creating product : "+e)})))(c,f).then((r=>{r.error?t({...e,error:r.error}):(console.log(r),t({...e,name:"",description:"",price:0,stock:0,sold_units:0,image:"",category:"",loading:!1,isSuccess:"created"}))}))};return Object(u.jsxs)(_e,{title:"Create Product",description:"Create your product here",className:"bg-secondary gx-2",children:[Object(u.jsxs)("div",{className:"row bg-light text-left",children:[Object(u.jsx)("div",{className:"col-md-8",children:lt()}),!m&&!g&&Object(u.jsxs)("form",{children:[Object(u.jsxs)("div",{class:"form-group row my-2",children:[Object(u.jsx)("label",{for:"nameInput",className:"col-sm-2",children:"Name"}),Object(u.jsx)("div",{className:"col-sm-8",children:Object(u.jsx)("input",{type:"text",class:"form-control",id:"nameInput",placeholder:"Name",onChange:v("name"),value:o,autoFocus:!0,required:!0})})]}),Object(u.jsxs)("div",{class:"form-group row my-2",children:[Object(u.jsx)("label",{for:"productDescriptionInput",className:"col-sm-2",children:"Description"}),Object(u.jsx)("div",{className:"col-sm-8",children:Object(u.jsx)("textarea",{type:"text",class:"form-control",id:"productDescriptionInput",placeholder:"Description",onChange:v("description"),value:s})})]}),Object(u.jsxs)("div",{class:"form-group row my-2",children:[Object(u.jsx)("label",{for:"productPriceInput",className:"col-sm-2",children:"Price"}),Object(u.jsx)("div",{className:"col-sm-8",children:Object(u.jsx)("input",{type:"text",class:"form-control",id:"productPriceInput",placeholder:"Example : 11.2",onChange:v("price"),value:n,required:!0})})]}),Object(u.jsxs)("div",{class:"form-group row my-2",children:[Object(u.jsx)("label",{for:"productStockInput",className:"col-sm-2",children:"Stock"}),Object(u.jsx)("div",{className:"col-sm-8",children:Object(u.jsx)("input",{type:"text",class:"form-control",id:"productStockInput",placeholder:"Example input",onChange:v("stock"),value:l,required:!0})})]}),Object(u.jsxs)("div",{class:"form-group row my-2",children:[Object(u.jsx)("label",{for:"productSoldInput",className:"col-sm-2",children:"Sold"}),Object(u.jsx)("div",{className:"col-sm-8 my-2",children:Object(u.jsx)("input",{type:"text",class:"form-control",id:"productSoldInput",placeholder:"Example input",onChange:v("sold_units"),value:d})})]}),Object(u.jsxs)("div",{class:"form-group row my-2",children:[Object(u.jsx)("label",{for:"productCategorySelect",className:"col-sm-2",children:"Category"}),Object(u.jsx)("div",{className:"col-sm-8",children:Object(u.jsxs)("select",{class:"form-control custom-select",id:"productCategorySelect",onChange:v("category"),children:[Object(u.jsx)("option",{children:"Select ..."}),h.map(((e,t)=>Object(u.jsx)("option",{value:e._id,children:e.name},t)))]})})]}),Object(u.jsxs)("div",{class:"form-group row my-2",children:[Object(u.jsx)("label",{for:"productImageInput",className:"col-sm-2",children:"Product Image"}),Object(u.jsx)("div",{className:"col-sm-8",children:Object(u.jsx)("input",{type:"file",class:"form-control-file",id:"productImageInput",accpet:"image",onChange:v("image")})})]}),Object(u.jsx)("button",{type:"submit",onClick:C,class:"btn btn-primary rounded my-2",children:"Create Product"})]}),Object(u.jsx)("div",{className:"col-md-8",children:m&&Object(u.jsx)(ht.a,{})})]}),Object(u.jsx)("div",{className:"row",children:Object(u.jsx)(q.a,{open:0!=g,autoHideDuration:6e3,onClose:N,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:Object(u.jsx)(J.a,{onClose:N,severity:"success",children:Object(u.jsxs)("p",{children:["Product has been successfully ",g]})})})}),Object(u.jsx)("div",{className:"row",children:Object(u.jsx)(q.a,{open:""!=O,autoHideDuration:6e3,onClose:N,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:Object(u.jsx)(J.a,{onClose:N,severity:"error",children:Object(u.jsx)("p",{children:JSON.stringify(O)})})})}),(()=>{if(y)return Object(u.jsx)(i.a,{to:"/admin/manage/products"})})()]})};var mt=()=>{const[e,t]=Object(a.useState)({products:[],error:"",isSuccess:!1,isLoading:!0}),{user:r,token:c}=b(),{products:o,error:s,isSuccess:n,isLoading:i}=e;Object(a.useEffect)((()=>{y(0).then((r=>{r?r.error?t({...e,error:r.error}):t({...e,products:r,isLoading:!1}):t({...e,products:[],isLoading:!1,error:"No Products Data"})}))}),[n]);const l=()=>{t({...e,error:"",isSuccess:!1})},d=(r,a)=>{r.preventDefault(),t({...e,error:"",isSuccess:!1,isLoading:!0}),((e,t)=>fetch("".concat(x.API,"/product/").concat(t),{method:"DELETE",headers:{Accept:"application/json",Authorization:"Bearer ".concat(e)}}).then((e=>e.json())).catch((e=>{console.log("Error deleting the product : "+e)})))(c,a).then((r=>{r.error?t({...e,error:r.error,isLoading:!1}):t({...e,error:"",isSuccess:"Deleted",isLoading:!1})})).catch((r=>{t({...e,error:r,isSuccess:!1,isLoading:!1}),console.log("Error deleting product : "+r)}))},j=[{field:"ProductName",headerName:"Name",width:200},{field:"CategoryName",headerName:"Category",width:200},{field:"actionUpdate",headerName:"Update",width:200,renderCell:e=>Object(u.jsx)("strong",{children:Object(u.jsx)(S.a,{variant:"contained",href:"/admin/update/product/".concat(e.id),children:"Update"})})},{field:"actionDelete",headerName:"Delete",renderCell:e=>Object(u.jsx)("strong",{children:Object(u.jsx)(it.a,{onClick:t=>d(t,e.id)})})}],h=o.length>0?o.map((e=>({ProductName:e.name,id:e._id,CategoryName:"".concat(void 0!=e.category?e.category.name:null)}))):[];return Object(u.jsxs)(_e,{title:"Manage Products",description:"Manage your products here",className:"bg-secondary gx-2",children:[Object(u.jsxs)("div",{className:"row bg-light text-left",children:[Object(u.jsx)("div",{className:"col-md-8",children:lt()}),Object(u.jsx)(xe.a,{spacing:2,children:Object(u.jsx)(xe.a,{item:!0,xs:12,children:Object(u.jsx)("div",{style:{height:350},children:Object(u.jsx)(st.a,{rows:h,columns:j,autoPageSize:!0,loading:i})})})})]}),Object(u.jsx)("div",{className:"row",children:Object(u.jsx)(q.a,{open:0!=n,autoHideDuration:6e3,onClose:l,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:Object(u.jsx)(J.a,{onClose:l,severity:"success",children:Object(u.jsxs)("p",{children:["Product has been successfully ",n]})})})}),Object(u.jsx)("div",{className:"row",children:Object(u.jsx)(q.a,{open:""!=s,autoHideDuration:6e3,onClose:l,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:Object(u.jsx)(J.a,{onClose:l,severity:"error",children:Object(u.jsx)("p",{children:JSON.stringify(s)})})})})]})};var bt=e=>{const[t,r]=Object(a.useState)({name:"",description:"",price:0,stock:0,sold_units:0,image:"",categories:[],category:"",loading:!0,error:"",isSuccess:!1,getRedirect:!1,formData:new FormData}),{user:c,token:o}=b(),{name:s,description:n,price:l,stock:d,sold_units:j,categories:h,error:p,isSuccess:m,formData:O,loading:g,getRedirect:y}=t,f=()=>{let a=e.match.params.productId;((e,t)=>fetch("".concat(x.API,"/product/").concat(t),{method:"GET",headers:{Accept:"application/json",Authorization:"Bearer ".concat(e)}}).then((e=>e.json())).catch((e=>{console.log("Error obtaining the product : "+e)})))(o,a).then((e=>{e.error?r({...t,error:e.error}):(console.log(e),r({...t,name:e.name,description:e.description,price:e.price,stock:e.stock,sold_units:e.sold_units.toString(),category:e.category,loading:!1}),v())}))},v=()=>{Ze().then((e=>{e.error?r({...t,error:e.error}):(console.log(e),r({categories:e,error:"",isSuccess:!1,loading:!1,formData:new FormData}))}))};Object(a.useEffect)((()=>{f()}),[]);const N=e=>a=>{const c="image"===e?a.target.files[0]:a.target.value;O.set(e,c),r({...t,[e]:c})},C=()=>{r("updated"==m?{...t,error:"",isSuccess:!1,getRedirect:!0}:{...t,error:"",isSuccess:!1})},S=a=>{let c=e.match.params.productId;a.preventDefault(),r({...t,error:"",isSuccess:!1,loading:!0}),((e,t,r)=>fetch("".concat(x.API,"/product/").concat(t),{method:"PUT",headers:{Authorization:"Bearer ".concat(e)},body:r}).then((e=>e.json())).catch((e=>{console.log("Error updating the product : "+e)})))(o,c,O).then((e=>{e.error?r({...t,error:e.error,getRedirect:!1}):r({...t,loading:!1,isSuccess:"updated"})}))};return Object(u.jsxs)(_e,{title:"Update Product",description:"Update your product here",className:"bg-secondary gx-2",children:[Object(u.jsxs)("div",{className:"row bg-light text-left",children:[Object(u.jsx)("div",{className:"col-md-8",children:lt()}),!g&&!m&&Object(u.jsxs)("form",{children:[Object(u.jsxs)("div",{className:"form-group row my-2",children:[Object(u.jsx)("label",{for:"nameInput",className:"col-sm-2",children:"Name"}),Object(u.jsx)("div",{className:"col-sm-8",children:Object(u.jsx)("input",{type:"text",className:"form-control",id:"nameInput",onChange:N("name"),value:s,autoFocus:!0,required:!0})})]}),Object(u.jsxs)("div",{className:"form-group row my-2",children:[Object(u.jsx)("label",{for:"productDescriptionInput",className:"col-sm-2",children:"Description"}),Object(u.jsx)("div",{className:"col-sm-8",children:Object(u.jsx)("textarea",{type:"text",className:"form-control",id:"productDescriptionInput",onChange:N("description"),value:n})})]}),Object(u.jsxs)("div",{className:"form-group row my-2",children:[Object(u.jsx)("label",{for:"productPriceInput",className:"col-sm-2",children:"Price"}),Object(u.jsx)("div",{className:"col-sm-8",children:Object(u.jsx)("input",{type:"text",className:"form-control",id:"productPriceInput",onChange:N("price"),value:l,required:!0})})]}),Object(u.jsxs)("div",{className:"form-group row my-2",children:[Object(u.jsx)("label",{for:"productStockInput",className:"col-sm-2",children:"Stock"}),Object(u.jsx)("div",{className:"col-sm-8",children:Object(u.jsx)("input",{type:"text",className:"form-control",id:"productStockInput",onChange:N("stock"),value:d,required:!0})})]}),Object(u.jsxs)("div",{className:"form-group row my-2",children:[Object(u.jsx)("label",{for:"productSoldInput",className:"col-sm-2",children:"Sold"}),Object(u.jsx)("div",{className:"col-sm-8 my-2",children:Object(u.jsx)("input",{type:"text",className:"form-control",id:"productSoldInput",placeholder:"Example input",onChange:N("sold_units"),value:j})})]}),Object(u.jsxs)("div",{className:"form-group row my-2",children:[Object(u.jsx)("label",{for:"productCategorySelect",className:"col-sm-2",children:"Category"}),Object(u.jsx)("div",{className:"col-sm-8",children:Object(u.jsxs)("select",{className:"form-select",id:"productCategorySelect",onChange:N("category"),children:[Object(u.jsx)("option",{children:"Select to update"}),h.map(((e,t)=>Object(u.jsx)("option",{value:e._id,children:e.name},t)))]})})]}),Object(u.jsxs)("div",{className:"form-group row my-2",children:[Object(u.jsx)("label",{for:"productImageInput",className:"col-sm-2",children:"Update Product Image"}),Object(u.jsx)("div",{className:"col-sm-8",children:Object(u.jsx)("input",{type:"file",className:"form-control-file",id:"productImageInput",accpet:"image",onChange:N("image")})})]}),Object(u.jsx)("button",{type:"submit",onClick:S,className:"btn btn-primary rounded my-2",children:"Update Product"})]}),Object(u.jsx)("div",{className:"col-md-8",children:g&&Object(u.jsx)(ht.a,{})})]}),Object(u.jsx)("div",{className:"row",children:Object(u.jsx)(q.a,{open:0!=m,autoHideDuration:6e3,onClose:C,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:Object(u.jsx)(J.a,{onClose:C,severity:"success",children:Object(u.jsxs)("p",{children:["Product has been successfully ",m]})})})}),Object(u.jsx)("div",{className:"row",children:Object(u.jsx)(q.a,{open:""!=p,autoHideDuration:6e3,onClose:C,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:Object(u.jsx)(J.a,{onClose:C,severity:"error",children:Object(u.jsx)("p",{children:JSON.stringify(p)})})})}),(()=>{if(y)return Object(u.jsx)(i.a,{to:"/admin/manage/products"})})()]})};var ut=e=>{const[t,r]=Object(a.useState)({name:"",loading:!0,error:"",isSuccess:!1,getRedirect:!1}),{user:c,token:o}=b(),{name:s,error:n,isSuccess:l,loading:d,getRedirect:j}=t,h=()=>{((e,t)=>fetch("".concat(x.API,"/category/").concat(e),{method:"GET",headers:{Accept:"application/json","content-type":"application/json",Authorization:"Bearer ".concat(t)}}).then((e=>e.json())).catch((e=>{console.log("Error getting category : "+e)})))(e.match.params.categoryId,o).then((e=>{e.error?r({...t,error:e.error}):r({...t,name:e.name,loading:!1})}))};Object(a.useEffect)((()=>{h()}),[]);const p=()=>{r("updated"==l?{...t,error:"",isSuccess:!1,getRedirect:!0}:{...t,error:"",isSuccess:!1})},m=a=>{let c=e.match.params.categoryId;a.preventDefault(),r({...t,error:"",isSuccess:!1,loading:!0}),((e,t,r)=>fetch("".concat(x.API,"/category/").concat(e),{method:"PUT",headers:{Accept:"application/json","content-type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify(t)}).then((e=>e.json())).catch((e=>{console.log(e),console.log("Error Updating the category ")})))(c,{name:s},o).then((e=>{e.error?r({...t,error:e.error,getRedirect:!1}):r({...t,loading:!1,isSuccess:"updated"})}))};return Object(u.jsxs)(_e,{title:"Update Product",description:"Update your product here",className:"bg-secondary gx-2",children:[Object(u.jsxs)("div",{className:"row bg-light text-left",children:[Object(u.jsx)("div",{className:"col-md-8",children:lt()}),(()=>{return!d&&!l&&Object(u.jsxs)("form",{children:[Object(u.jsxs)("div",{className:"row-md-4",children:[Object(u.jsx)("label",{className:"form-label",children:"Category Name :"}),Object(u.jsx)("input",{type:"text",className:"form-control",onChange:(e="name",a=>{r({...t,[e]:a.target.value})}),value:s,autoFocus:!0,required:!0,placeholder:"Enter catefory name E.g:Shirts"})]}),Object(u.jsx)("div",{className:"row-md-4",children:Object(u.jsx)("div",{className:"col-md-4",children:Object(u.jsx)("button",{type:"submit",onClick:m,className:"btn btn-primary rounded my-2",children:"Update Category"})})})]});var e})(),Object(u.jsx)("div",{className:"col-md-8",children:d&&Object(u.jsx)(ht.a,{})})]}),Object(u.jsx)("div",{className:"row",children:Object(u.jsx)(q.a,{open:0!=l,autoHideDuration:6e3,onClose:p,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:Object(u.jsx)(J.a,{onClose:p,severity:"success",children:Object(u.jsxs)("p",{children:["Category has been successfully ",l]})})})}),Object(u.jsx)("div",{className:"row",children:Object(u.jsx)(q.a,{open:""!=n,autoHideDuration:6e3,onClose:p,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:Object(u.jsx)(J.a,{onClose:p,severity:"error",children:Object(u.jsx)("p",{children:JSON.stringify(n)})})})}),(()=>{if(j)return Object(u.jsx)(i.a,{to:"/admin/manage/categories"})})()]})},Ot=(r(121),r(173)),gt=r(249),xt=r(259),yt=r(250),ft=r(254);const vt=Object(f.a)((e=>({root:{width:"100%"},button:{marginRight:e.spacing(1)},instructions:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}})));var Nt=e=>{const t=vt(),[r,o]=Object(a.useState)({loading:!0,error:"",isSuccess:!1,address:"",cartItems:e.location.params.cartItems}),[s,n]=c.a.useState(0),[i,l]=c.a.useState(new Set),{token:d,user:j}=b(),{cartItems:h}=r,p=["OrderItems","Shipping Address","Payment"],m=[],O=e=>m.includes(e),g=e=>i.has(e),x=()=>{let e=i;g(s)&&(e=new Set(e.values()),e.delete(s)),n((e=>e+1)),l(e)},y=()=>{n((e=>e-1))},f=()=>{if(!O(s))throw new Error("You can't skip a step that isn't optional.");n((e=>e+1)),l((e=>{const t=new Set(e.values());return t.add(s),t}))},C=()=>{n(0)},w=e=>{switch(e){case 0:return Object(u.jsx)(Ot.a,{children:h.length>0&&h.map((e=>Object(u.jsxs)(de.a,{alignItems:"center",children:[Object(u.jsx)(gt.a,{children:Object(u.jsx)(Fe.a,{src:e.product.image})}),Object(u.jsx)(je.a,{primary:e.product.name,secondary:e.quantity}),Object(u.jsx)(je.a,{primary:Number(e.quantity)*Number(e.product.price).toFixed(2),secondary:"price : ".concat(e.product.price)})]})))});case 1:return"Shipping Address Step";case 2:return"Payment Step";default:return"unknown step"}};return Object(u.jsx)(_e,{title:"Checkout Page",description:"Please provide details to complete the checkout",children:Object(u.jsx)("div",{children:Object(u.jsx)(P.a,{className:t.root,children:Object(u.jsxs)(v.a,{elevation:3,children:[Object(u.jsx)(xt.a,{activeStep:s,children:p.map(((e,t)=>{const r={},a={};return O(t)&&(a.optional=Object(u.jsx)(N.a,{variant:"caption",children:"Optional"})),g(t)&&(r.completed=!1),Object(u.jsx)(yt.a,{...r,children:Object(u.jsx)(ft.a,{...a,children:e})},e)}))}),Object(u.jsx)("div",{children:s===p.length?Object(u.jsxs)("div",{children:[Object(u.jsx)(N.a,{className:t.instructions,children:"All steps completed - you're finished"}),Object(u.jsx)(S.a,{onClick:C,color:"primary",variant:"contained",className:t.button,children:"Reset"})]}):Object(u.jsxs)("div",{children:[Object(u.jsx)(N.a,{className:t.instructions,children:w(s)}),Object(u.jsxs)("div",{children:[Object(u.jsx)(S.a,{disabled:0===s,variant:"contained",color:"secondary",onClick:y,className:t.button,children:"Back"}),O(s)&&Object(u.jsx)(S.a,{variant:"contained",color:"primary",onClick:f,className:t.button,children:"Skip"}),Object(u.jsx)(S.a,{variant:"contained",color:"primary",onClick:x,className:t.button,children:s===p.length-1?"Finish":"Next"})]})]})})]})})})})};var Ct=()=>{const e=Object(i.g)();return Object(u.jsx)(_e,{title:"Page Not found",description:"You have been redirect to an invalid url",children:Object(u.jsx)(ne.Box,{children:Object(u.jsx)(ne.Button,{text:"Go to Dashboard",onClick:()=>{e.push("/")}})})})};function St(){return Object(u.jsx)(n.a,{children:Object(u.jsxs)(i.d,{children:[Object(u.jsx)(i.b,{path:"/",exact:!0,component:Qe}),Object(u.jsx)(g,{path:"/cart",exact:!0,component:at}),Object(u.jsx)(g,{path:"/checkout/",exact:!0,component:Nt}),Object(u.jsx)(O,{path:"/admin/dashboard",exact:!0,component:ct}),Object(u.jsx)(g,{path:"/user/dashboard",exact:!0,component:ot}),Object(u.jsx)(O,{path:"/admin/create/category",exact:!0,component:jt}),Object(u.jsx)(O,{path:"/admin/manage/categories",exact:!0,component:dt}),Object(u.jsx)(O,{path:"/admin/create/product",exact:!0,component:pt}),Object(u.jsx)(O,{path:"/admin/manage/products",exact:!0,component:mt}),Object(u.jsx)(O,{path:"/admin/update/product/:productId",exact:!0,component:bt}),Object(u.jsx)(O,{path:"/admin/update/category/:categoryId",exact:!0,component:ut}),Object(u.jsx)(i.b,{path:"*",component:Ct})]})})}s.a.render(Object(u.jsx)(St,{}),document.getElementById("root"))},22:function(e,t,r){"use strict";r.r(t),r.d(t,"API",(function(){return a}));const a=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BACKEND}},[[167,1,2]]]);
//# sourceMappingURL=main.d32e258d.chunk.js.map