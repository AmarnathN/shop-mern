(this.webpackJsonpprojfrontend=this.webpackJsonpprojfrontend||[]).push([[0],{121:function(e,t,r){const{loadScript:a}=r(164),{createOrder:c}=r(165),{createRazorpayOrder:o}=r(166);t.displayRazorpay=async(e,t,r)=>{if(!await a("https://checkout.razorpay.com/v1/checkout.js"))return void alert("Razorpay SDK failed to load. Are you online?");const s={amount:t.amount,currency:t.currency,notes:{note:"Razor Pay Order From FE"}},n=await o(s,r);c(r);const i={key:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).RAZORPAY_API_KEY,currency:n.currency,amount:n.amount.toString(),order_id:n.id,name:"Donation",description:"Thank you for nothing. Please give us some money",handler:function(e){alert(e.razorpay_payment_id),alert(e.razorpay_order_id),alert(e.razorpay_signature)},prefill:{name:e.name,email:e.email}};new window.Razorpay(i).open((()=>{alert("Payment Success")}))}},164:function(e,t){t.loadScript=e=>new Promise((t=>{const r=document.createElement("script");r.src=e,r.onload=()=>{t(!0)},r.onerror=()=>{t(!1)},document.body.appendChild(r)}))},165:function(e,t,r){"use strict";r.r(t),r.d(t,"createOrder",(function(){return c}));var a=r(22);const c=(e,t)=>fetch("".concat(a.API,"/order/create/"),{method:"POST",headers:{Accept:"application/json","content-type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(t)}).then((e=>e.json())).catch((e=>{console.log("Error modify Item  : "+e)}))},166:function(e,t,r){const{API:a}=r(22);t.createRazorpayOrder=(e,t)=>fetch("".concat(a,"/razorpay"),{method:"POST",headers:{Accept:"application/json","content-type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(e)}).then((e=>e.json()))},167:function(e,t,r){"use strict";r.r(t);var a=r(0),c=r.n(a),o=r(15),s=r.n(o),n=r(16),i=r(19),l=r(115),d=r(98),j=r.n(d);const{API:h}=r(22),p=e=>fetch("".concat(h,"/signup"),{method:"POST",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then((e=>e.json())).catch((e=>{console.log(e)})),m=e=>fetch("".concat(h,"/signin"),{method:"POST",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then((e=>e.json())).catch((e=>{console.log(e)})),b=(e,t)=>{"undefined"!==typeof window&&(localStorage.setItem("jwt",JSON.stringify(e)),t())},u=()=>{if("undefined"==typeof window||!localStorage.getItem("jwt"))return!1;let e=localStorage.getItem("jwt");var t=Object(l.a)(e);return!(j.a.unix(t.exp).utc()<j()().utc())&&JSON.parse(localStorage.getItem("jwt"))};var O=r(1);var g=e=>{let{component:t,...r}=e;return Object(O.jsx)(i.b,{...r,render:e=>u()&&1==u().user.role?Object(O.jsx)(t,{...e}):Object(O.jsx)(i.a,{to:{pathname:"/",state:{from:e.location}}})})};var x=e=>{let{component:t,...r}=e;return Object(O.jsx)(i.b,{...r,render:e=>u()?Object(O.jsx)(t,{...e}):Object(O.jsx)(i.a,{to:{pathname:"/",state:{from:e.location}}})})},y=r(22);const f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return fetch("".concat(y.API,"/products?limit=").concat(e),{method:"GET",headers:{Accept:"application/json"}}).then((e=>e.json())).catch((e=>{console.log("Error obtaining all products : "+e)}))};var v=r(35),N=r(75),C=r(68);const S=Object(v.a)((e=>({root:{"& .MuiFormControl-root":{width:"80%",margin:e.spacing(1)}}})));var w=r(61);const k=Object(v.a)((e=>({root:{minWidth:0,margin:e.spacing(.5)},secondary:{backgroundColor:e.palette.background.main,"& .MuiButton-label":{color:e.palette.secondary.main}},primary:{backgroundColor:e.palette.background.main,"& .MuiButton-label":{color:e.palette.primary.main}},theme:{backgroundColor:e.palette.background,"& .MuiButton-label":{color:e.palette.theme}}})));var P=e=>{const t=k(),{color:r,children:a,onClick:c,variant:o,size:s,...n}=e;return Object(O.jsx)(w.a,{className:"".concat(t.root," ").concat(t[r]||"theme"),onClick:c,variant:o||"outlined",size:s||"small",...n,children:a})},I=r(251);const E=Object(v.a)((e=>({root:{height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}})));var D=e=>{const t=E(),{children:r,...a}=e;return Object(O.jsx)(I.a,{className:t.root,...a,children:r})};const T=Object(v.a)((e=>({root:{margin:e.spacing(.5)},label:{textTransform:"none"},shape:{borderRadius:"4px"}})));var A=e=>{const t=T(),{text:r,size:a,color:c,variant:o,onClick:s,...n}=e;return Object(O.jsx)(w.a,{className:t.shape,classes:{root:t.root,label:t.label},variant:o||"contained",size:a||"small",color:c||"primary",onClick:s,...n,children:r})},_=r(3),B=r(255);const z=Object(v.a)({list:{width:"15Rem"},fullList:{width:"auto"}});var R=r(221);var F=e=>{const{variant:t,size:r,color:a,ariaLabel:c,disabled:o,children:s,...n}=e;return Object(O.jsx)(R.a,{variant:t||"round",size:r||"small",color:a||"inherit","aria-label":c||"myfab",disabled:o,...n,children:s})},L=r(107);var M=e=>{const{name:t,value:r,label:a,errorText:c=null,onChange:o,...s}=e;return Object(O.jsx)(L.a,{label:a,value:r,onChange:o,name:t,...s,...c&&{error:!0,helperText:c}},a)},H=r(122),U=r(125);var q=e=>{const{children:t,anchorEl:r,handleMenuClose:a,isMenuOpen:c,menuId:o}=e;return Object(O.jsx)("div",{children:Object(O.jsx)(H.a,{anchorEl:r,id:o,open:c,keepMounted:!0,onClose:a,TransitionComponent:U.a,children:t})})},J=r(257),W=r(252);const K=Object(v.a)((e=>({root:{top:e.spacing(10)}})));var G=e=>{const t=K(),{notify:r,setNotify:a}=e,c=(e,t)=>{"clickaway"!=t&&a({alertMessage:"",alertType:"",isOpen:!1})};return Object(O.jsx)(J.a,{className:t.root,open:r.isOpen,autoHideDuration:3e3,anchorOrigin:{vertical:"top",horizontal:"right"},onClose:c,children:Object(O.jsx)(W.a,{severity:r.alertType,onClose:c,children:r.alertMessage})})};const V=Object(v.a)((e=>({root:{height:"100%",width:"100%"}})));var Y=e=>{const t=V(),{elevation:r,children:a,...c}=e;return Object(O.jsx)(N.a,{className:t.root,elevation:r||3,...c,children:a})},Z=r(224),$=r(225),Q=r(227),X=r(228),ee=r(226);const te=Object(v.a)((e=>({dialogWrapper:{padding:e.spacing(2),position:"absolute",top:e.spacing(5)}})));var re=e=>{const t=te(),{title:r,children:a,openPopup:o,setOpenPopup:s,handleClosePopup:n}=e;return Object(O.jsxs)(Z.a,{open:o,maxWidth:"md",classes:{paper:t.dialogWrapper},onBackdropClick:n,children:[r&&Object(O.jsxs)(c.a.Fragment,{children:[Object(O.jsx)($.a,{children:Object(O.jsxs)("div",{style:{display:"flex"},children:[Object(O.jsx)(C.a,{variant:"h6",component:"div",style:{flexGrow:1},children:r}),Object(O.jsx)(ie.ActionIconButton,{onClick:n,children:Object(O.jsx)(ee.a,{})})]})}),Object(O.jsx)(Q.a,{})]}),Object(O.jsx)(X.a,{children:Object(O.jsx)(ie.Paper,{children:a})})]})},ae=r(229),ce=r(253),oe=r(230);function se(e){const{children:t,value:r,index:a,...c}=e;return Object(O.jsx)("div",{role:"tabpanel",hidden:r!==a,id:"tabpanel-".concat(a),"aria-labelledby":"tab-".concat(a),...c,children:r===a&&Object(O.jsx)(I.a,{p:3,children:t})})}const ne=Object(v.a)((e=>({root:{flexGrow:1,padding:e.spacing(1),width:"100%",height:"100%",borderRadius:e.shape.borderRadius,backgroundColor:e.palette.background.default},appBar:{background:e.palette.background.white,boxShadow:"0 3px 5px 2px rgba(0, 0, 0, .3)"}})));const ie={ActionIconButton:P,Box:D,Button:A,Drawer:function(e){const{toggleDrawer:t,drawerOpen:r}=e,a=z();return Object(O.jsx)("div",{children:Object(O.jsx)(c.a.Fragment,{children:Object(O.jsx)(B.a,{anchor:"right",open:r,onClose:t,children:(o="anchor",Object(O.jsx)("div",{className:Object(_.a)(a.list,{[a.fullList]:"top"===o||"bottom"===o}),role:"presentation",onClick:t,onKeyDown:t,children:e.children}))})},"right")});var o},Fab:F,Form:e=>{const{children:t,...r}=e,a=S();return Object(O.jsx)("form",{className:a.root,...r,children:t})},Input:M,Menu:q,Notification:G,Paper:Y,PopupDialog:re,Tabs:e=>{const[t,r]=c.a.useState(0),{tabsList:a,variant:o}=e,s=ne();return Object(O.jsxs)("div",{className:s.root,children:[Object(O.jsx)(ae.a,{position:"static",className:s.appBar,children:Object(O.jsx)(ce.a,{value:t,indicatorColor:"primary",textColor:"secondary",onChange:(e,t)=>{r(t)},variant:o||"fullWidth",scrollButtons:"on",children:a.length>0&&a.map((e=>Object(O.jsx)(oe.a,{wrapped:!0,label:e.label})))})}),a.length>0&&a.map(((e,r)=>Object(O.jsx)(se,{value:t,index:r,children:e.component},r)))]})},useForm:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};const[c,o]=Object(a.useState)(e),[s,n]=Object(a.useState)({});return{values:c,setValues:o,errors:s,setErrors:n,resetForm:()=>{o(e),n({})},handleInputChange:e=>{const{name:a,value:s}=e.target;o({...c,[a]:s}),t&&r({[a]:s})}}}},le=Object(v.a)((e=>({root:{backgroundColor:e.palette.background.default,display:"flex",height:"100%",background:"linear-gradient(185deg,".concat(e.palette.secondary.main," 4%, white 30%)"),boxShadow:"0 -2px 7px 2px rgba(255, 98, 0, 0.2)",justifyContent:"center",transform:"translateZ(19.7rem)"}})));var de=()=>{const e=le();return Object(O.jsx)(N.a,{elevation:2,square:!0,className:e.root,children:Object(O.jsxs)(C.a,{component:"div",children:["if you got any questions - ",Object(O.jsx)(ie.Button,{text:"Contact Us",color:"secondary"})]})})},je=r(174),he=r(232),pe=r(233),me=r(103),be=r(234),ue=r(235),Oe=r(236);const ge=(e,t,r)=>void 0!==typeof window?localStorage.getItem("jwt")?fetch("".concat(y.API,"/cartItem/modify"),{method:"POST",headers:{Accept:"application/json","content-type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify({product:e._id,user:t._id,quantity:e.count})}).then((e=>e.json())).catch((e=>{console.log("Error modify Item  : "+e)})):(console.log("Need to login"),{error:"Please Login to add items to cart"}):{error:"No Window Found"},xe=e=>fetch("".concat(y.API,"/cartItems"),{method:"GET",headers:{Accept:"application/json","content-type":"application/json",Authorization:"Bearer ".concat(e)}}).then((e=>e.json())).catch((e=>{console.log("Error Loading user cart Items  : "+e)}));var ye=r(231);const fe={email:"a8@test.com",password:"a008@1",error:"",didRedirect:!1};var ve=e=>{const{setNotify:t}=e,{user:r}=u(),a=Object(i.g)(),{values:c,setValues:o,errors:s,setErrors:n,handleInputChange:l,resetForm:d}=ie.useForm(fe,!0,(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t={...s};if("email"in e&&(t.email=/$^|.+@+..+/.test(e.email)?"":"Valid Email is required"),"password"in e&&(t.password=e.password.length>0?"":"This field is required"),n({...t}),e===c)return Object.values(t).every((e=>""==e))}));return Object(O.jsxs)(ie.Form,{onSubmit:e=>{e.preventDefault(),o({...c,error:!1}),m({email:c.email,password:c.password}).then((e=>{e.error?t({isOpen:!0,alertMessage:JSON.stringify(e.error),alertType:"error"}):b(e,(()=>{o({...c,email:"",password:"",error:!1,loading:!1,didRedirect:!0})}))})).catch((e=>{console.log("Error in Signin : "+e)}))},children:[Object(O.jsxs)(ye.a,{container:!0,justify:"center",align:"center",children:[Object(O.jsxs)(ye.a,{item:!0,sm:12,xs:12,children:[Object(O.jsx)(ie.Input,{label:"Email",value:c.email,onChange:l,name:"email",errorText:s.email}),Object(O.jsx)(ie.Input,{label:"Password",value:c.password,onChange:l,name:"password",errorText:s.password,type:"password"})]}),Object(O.jsx)(ie.Button,{color:"secondary",text:"SignIn",type:"submit",size:"medium"})]}),void(c.didRedirect&&(r&&1==r.role?a.push("/admin/dashboard"):a.push("/user/dashboard")))]})};const Ne={name:"",email:"",password:"",error:"",didRedirect:!1};var Ce=e=>{const{notify:t,setNotify:r}=e,{user:a}=u(),c=Object(i.g)(),{values:o,setValues:s,errors:n,setErrors:l,handleInputChange:d,resetForm:j}=ie.useForm(Ne,!0,(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t={...n};if("name"in e&&(t.name=e.name.length>0?"":"This field is required"),"email"in e&&(t.email=/$^|.+@+..+/.test(e.email)?"":"Valid Email is required"),"password"in e&&(t.password=e.password.length>0?"":"This field is required"),"role"in e&&(t.password=e.role.length>0?"":"This field is required"),l({...t}),e===o)return Object.values(t).every((e=>""==e))}));return Object(O.jsxs)(ie.Form,{onSubmit:e=>{e.preventDefault(),s({...o,error:!1}),p({name:o.name,email:o.email,password:o.password,role:o.role}).then((e=>{e.error?r({isOpen:!0,alertMessage:JSON.stringify(e.error),alertType:"error"}):m({email:o.email,password:o.password}).then((e=>{b(e,(()=>{j(),s({...o,error:!1,didRedirect:!0})}))}))})).catch((e=>{console.log("Error in Signing Up : "+e)}))},children:[Object(O.jsxs)(ye.a,{container:!0,justify:"center",align:"center",children:[Object(O.jsxs)(ye.a,{item:!0,sm:12,xs:12,children:[Object(O.jsx)(ie.Input,{label:"Name",value:o.name,onChange:d,name:"name",errorText:n.name}),Object(O.jsx)(ie.Input,{label:"Email",value:o.email,onChange:d,name:"email",errorText:n.email}),Object(O.jsx)(ie.Input,{label:"Password",value:o.password,onChange:d,name:"password",errorText:n.password,type:"password"})]}),Object(O.jsx)(ie.Button,{color:"secondary",text:"Sign Up",type:"submit",size:"medium"})]}),void(o.didRedirect&&(a&&1==a.role?c.push("/admin/dashboard"):c.push("/user/dashboard")))]})};var Se=e=>{const[t,r]=Object(a.useState)({isOpen:!1,alertMessage:"",alertType:""}),{openPopup:c=!0,handleClosePopup:o}=e,s=[{label:"SignIn",component:Object(O.jsx)(ve,{notify:t,setNotify:r})},{label:"SignUp",component:Object(O.jsx)(Ce,{notify:t,setNotify:r})}];return Object(O.jsx)("div",{children:Object(O.jsxs)(ie.PopupDialog,{openPopup:c,handleClosePopup:o,children:[Object(O.jsx)(ie.Notification,{notify:t,setNotify:r}),Object(O.jsx)(ie.Paper,{children:Object(O.jsx)(ie.Tabs,{tabsList:s})})]})})};const we=Object(v.a)((e=>({menuButton:{marginRight:e.spacing(2)},title:{},grow:{flexGrow:1},root:{height:"100%",backgroundColor:e.palette.theme.main,transform:"translateZ(-19.7rem)",background:"linear-gradient(165deg,white 75%,".concat(e.palette.theme.main,"  95%)"),boxShadow:"0 3px 5px 2px rgba(0, 224, 206, .3)"}})));var ke=e=>{const t=we(),r=Object(i.g)(),[o,s]=Object(a.useState)(!1),[n,l]=Object(a.useState)([]),[d,j]=Object(a.useState)(!1),{user:p,token:m}=u();Object(a.useEffect)((()=>{(async()=>{u()&&await xe(m).then((e=>{e&&!e.error&&(e=e.filter((e=>e.product&&e.user)),l(e))}))})()}),[]);const b=e=>{("keydown"!==e.type||"Tab"!==e.key&&"Shift"!==e.key)&&j(!d)},g=()=>{r.push("/cart")},x=Object(O.jsx)(Se,{openPopup:o,handleClosePopup:()=>{s(!1)}}),y=Object(O.jsx)(ie.Drawer,{toggleDrawer:b,drawerOpen:d,children:u()&&Object(O.jsxs)(c.a.Fragment,{children:[Object(O.jsx)(je.a,{button:!0,onClick:()=>{r.push("1"==p.role?"/admin/dashboard":"/user/dashboard")},children:Object(O.jsx)(he.a,{primary:"Dashboard"})},"Dashboard"),Object(O.jsx)(je.a,{button:!0,onClick:()=>{(e=>{if("undefined"!==typeof window)localStorage.removeItem("jwt"),e(),fetch("".concat(h,"/signout"),{method:"GET"}).then((()=>{console.log("Signout Success")})).catch((e=>{console.log(e)}))})((()=>{})),r.push("/")},children:Object(O.jsx)(he.a,{primary:"SignOut"})},"SignOut")]})});return Object(O.jsxs)(ae.a,{position:"static",className:t.root,children:[Object(O.jsxs)(pe.a,{children:[Object(O.jsxs)(ie.ActionIconButton,{onClick:()=>{r.push("/")},children:[Object(O.jsx)(be.a,{}),Object(O.jsx)("strong",{children:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SHOP_BRAND||"Your Brand"})]}),Object(O.jsx)("div",{className:t.grow}),Object(O.jsxs)("div",{className:t.sectionDesktop,children:[u()&&Object(O.jsxs)(c.a.Fragment,{children:[Object(O.jsx)(ie.ActionIconButton,{color:"inherit","data-testid":"cart-icon",onClick:g,children:Object(O.jsx)(me.a,{badgeContent:n.length,color:"secondary",children:Object(O.jsx)(ue.a,{onClick:g})})}),Object(O.jsx)(ie.ActionIconButton,{color:"inherit","data-testid":"account-toggle",onClick:b,children:Object(O.jsx)(Oe.a,{})})]}),!u()&&Object(O.jsx)(ie.Button,{text:"Login",onClick:()=>{s(!0)}})]})]}),x,y]})},Pe=r(237),Ie=r(238),Ee=r(64);const De=Object(Ee.a)({palette:{secondary:{main:"#D8D28C",light:"#D8D28C"},theme:{main:"#FFEF33",light:"#D8D28C"},primary:{main:"#D8D28C",light:"#D8D28C"},background:{white:"#ffffff",default:"#f2f2f2",light:"#a8a8a8",dark:"#000000"}},shape:{borderRadius:"12px"},props:{MuiIconButton:{disableRipple:!0}}}),Te=Object(v.a)((e=>({root:{backgroundColor:e.palette.background.default},pageHeader:{padding:e.spacing(4),display:"flex",marginBotton:e.spacing(2),background:"linear-gradient(190deg,white 75%, ".concat(e.palette.secondary.main,"  95%)"),boxShadow:"0 3px 5px 2px rgba(255, 98, 0, .2)"},pageIcon:{display:"inline-block",padding:e.spacing(2),color:e.palette.primary,backgroundColor:e.palette.background},pageTitle:{paddingLeft:e.spacing(2),justifyContent:"center",alignItems:"center","& .MuiTypography-subtitle2":{opacity:"0.7"}}})));var Ae=e=>{const t=Te(),{title:r,description:a}=e;return Object(O.jsx)(N.a,{elevation:4,className:t.root,children:Object(O.jsx)("div",{className:t.pageHeader,children:Object(O.jsxs)("div",{className:t.pageTitle,children:[Object(O.jsx)(C.a,{variant:"h4",component:"div",children:Object(O.jsxs)("strong",{children:[" ",r]})}),Object(O.jsx)(C.a,{variant:"subtitle2",component:"div",children:a})]})})})};const _e=Object(v.a)((e=>({appMain:{width:"100%",backgroundColor:e.palette.background.light},appHeader:{height:"8vh"},appBody:{height:"87vh",overflow:"auto"},appBodyChildren:{height:"100%",marginTop:e.spacing(1),marginBottom:e.spacing(1)},appFooter:{height:"5vh"}})));var Be=e=>{let{title:t="My Title",description:r="My Description",className:a="text-white p-2",children:o}=e;const s=_e();return Object(O.jsx)(c.a.Fragment,{children:Object(O.jsx)(c.a.Fragment,{children:Object(O.jsxs)(Pe.a,{theme:De,children:[Object(O.jsxs)("div",{className:s.appMain,children:[Object(O.jsx)("div",{className:s.appHeader,children:Object(O.jsx)(ke,{})}),Object(O.jsxs)("div",{className:s.appBody,children:[Object(O.jsx)(Ae,{title:t,description:r}),Object(O.jsx)("div",{className:s.appBodyChildren,children:o})]}),Object(O.jsx)("div",{className:s.appFooter,children:Object(O.jsx)(de,{})})]}),Object(O.jsx)(Ie.a,{})]})})})},ze=r(239),Re=r(240),Fe=r(243),Le=r(258),Me=r(241),He=r(242),Ue=r(62),qe=r(244),Je=r(245),We=r(246);const Ke=Object(v.a)((e=>({root:{margin:e.spacing(1),transition:"transform 0.15s ease-in-out"},expand:{transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"}}))),Ge=["Description","Price","Stock"];var Ve=e=>{const{product:t,quantity:r=0,notify:o,setNotify:s}=e,n=Ke(),[i,l]=Object(a.useState)(!1),[d,j]=Object(a.useState)(r),[h,p]=Object(a.useState)(!1),[m,b]=Object(a.useState)(!0),[g,x]=Object(a.useState)(!0),{user:y,token:f}=u(),v=async()=>{if(u()){t.count=d;let e=await ge(t,y,f);e.error?s({isOpen:!0,alertMessage:e.error,alertType:"error"}):(j(0),b(!0))}else s({isOpen:!0,alertMessage:"Please Sign In to Add items to Cart",alertType:"error"})},S=(e,r)=>{e.preventDefault();let a=d+r;a>=0&&j(a),p(a===t.stock),b(0===a),x(!(a>0))};return Object(O.jsxs)(Me.a,{className:n.root,children:[Object(O.jsxs)(N.a,{elevation:5,children:[Object(O.jsx)(He.a,{style:{height:0,paddingTop:"56.25%"},image:t.image,title:t.name}),Object(O.jsxs)(ye.a,{container:!0,alignItems:"center",noWrap:!0,children:[Object(O.jsx)(Ue.a,{children:Object(O.jsx)(Fe.a,{className:Object(_.a)(n.expand,{[n.expandOpen]:i}),onClick:()=>{l(!i)},"aria-expanded":i,"aria-label":"Description",fontSize:"large"})}),Object(O.jsx)(C.a,{variant:"h5",component:"p",children:t.name})]})]}),Object(O.jsx)(ye.a,{container:!0,children:Object(O.jsx)(ye.a,{item:!0,xs:12,sm:12,lg:12,children:Object(O.jsx)(qe.a,{children:Object(O.jsx)(ye.a,{item:!0,xs:12,sm:12,lg:12,container:!0,direction:"row",justify:"center",alignItems:"center",children:Object(O.jsxs)(ye.a,{container:!0,xs:12,sm:12,md:12,lg:12,direction:"row",justify:"space-between",children:[Object(O.jsx)(ie.Fab,{color:"secondary",disabled:m,children:Object(O.jsx)(ze.a,{onClick:e=>S(e,-1)})}),Object(O.jsx)(Le.a,{children:d}),Object(O.jsx)(ie.Fab,{color:"primary",disabled:h,children:Object(O.jsx)(Re.a,{onClick:e=>S(e,1)})}),Object(O.jsx)(ie.Button,{text:"Add to Cart",onClick:v,size:"medium",disabled:g,color:"inherit"})]})})})})}),Object(O.jsx)(Je.a,{in:i,timeout:"auto",unmountOnExit:!0,children:Object(O.jsx)(We.a,{children:Ge.map((e=>Object(O.jsxs)(c.a.Fragment,{children:[Object(O.jsxs)(C.a,{variant:"h6",children:[e," "]}),Object(O.jsx)(C.a,{paragraph:!0,children:"Price"===e?"Rs.".concat(t[e.toLowerCase()]," /-"):t[e.toLowerCase()]})]})))})})]})},Ye=r(247);var Ze=()=>Object(O.jsxs)("div",{className:"row bg-secondary bg-gradient",style:{justifyContent:"center"},children:[Object(O.jsx)(Ye.a,{color:"primary"}),Object(O.jsx)(Ye.a,{}),Object(O.jsx)(Ye.a,{color:"secondary"})]});const $e=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return fetch("".concat(y.API,"/categories?limit=").concat(e),{method:"GET",headers:{Accept:"application/json","content-type":"application/json"}}).then((e=>e.json())).catch((e=>{console.log("Error getting all categories : ")}))},Qe=(e,t)=>fetch("".concat(y.API,"/category/").concat(e),{method:"DELETE",headers:{Accept:"application/json","content-type":"application/json",Authorization:"Bearer ".concat(t)}}).then((e=>e.json())).catch((e=>{console.log(e),console.log("Error Deleting the category ")}));function Xe(){const[e,t]=Object(a.useState)({products:[],categories:[],isSuccess:!1,loading:!0}),[r,c]=Object(a.useState)({isOpen:!1,alertMessage:"",alertType:""}),{loading:o,products:s,categories:n}=e;Object(a.useEffect)((()=>{f(0).then((r=>{if(r)if(r.error)t({...e,error:r.error,loading:!1}),c({isOpen:!0,alertMessage:r.error,alertType:"error"});else{let a=r.map((e=>e.category));a=[...new Set(a.map((e=>JSON.stringify(e))))].map((e=>JSON.parse(e))),t({...e,products:r,categories:a,loading:!1})}else t({...e,error:"No Products Data",loading:!1}),c({isOpen:!0,alertMessage:"Error Getting Product data",alertType:"error"})}))}),[]);return Object(O.jsxs)(Be,{title:"Homepage",description:"Please find the products here",children:[o&&Ze(),Object(O.jsx)(ie.Notification,{notify:r,setNotify:c}),!o&&n.length>0&&Object(O.jsx)(ie.Tabs,{variant:"scrollable",tabsList:n.map((e=>{let t=s.filter((t=>t.category._id===e._id));const a=t.length>0&&Object(O.jsx)(ye.a,{container:!0,children:t.map((e=>Object(O.jsx)(ye.a,{item:!0,xs:12,sm:6,md:4,lg:3,xl:2,children:Object(O.jsx)(Ve,{product:e,notify:r,setNotify:c})})))});return{label:e.name,component:a}}))})]})}var et=r(248);const tt=Object(v.a)((e=>({root:{display:"flex",flexDirection:"row",margin:e.spacing(1)},media:{height:100,width:"100%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"}}))),rt=["Description","Price"];var at=e=>{const{item:t,refreshCart:r}=e,o=tt(),[s,n]=Object(a.useState)(!1),[i,l]=Object(a.useState)(!1),[d,j]=Object(a.useState)(t.quantity),[h,p]=Object(a.useState)(!1),[m,b]=Object(a.useState)(!0),[g,x]=Object(a.useState)(!1),[f,v]=Object(a.useState)(""),{user:N,token:S}=u(),w=e.item.product;Object(a.useEffect)((()=>{b(d<=0)}),[]);const k=async(t,r)=>{let a=d+r;a>=0&&(await(async t=>{w.count=t;let r=await ge(w,N,S);r.error?(v(r.error),x(!0)):e.refreshCart()})(r),j(a)),p(a===w.stock),b(0===a)};return Object(O.jsx)(Me.a,{className:o.root,children:Object(O.jsxs)(ye.a,{container:!0,children:[Object(O.jsx)(ye.a,{item:!0,xs:3,sm:3,md:3,lg:2,children:Object(O.jsx)(ie.Paper,{square:!0,children:Object(O.jsx)(He.a,{image:w.image,title:w.name,className:o.media})})}),Object(O.jsx)(ye.a,{item:!0,xs:9,sm:9,md:9,lg:5,children:Object(O.jsxs)(ie.Paper,{square:!0,children:[Object(O.jsx)(C.a,{variant:"h6",component:"p",children:w.name}),Object(O.jsx)(Ue.a,{children:Object(O.jsx)(Fe.a,{className:Object(_.a)(o.expand,{[o.expandOpen]:s}),onClick:()=>{n(!s)},"aria-expanded":s,"aria-label":"Description",color:"default",fontSize:"small"})})]})}),Object(O.jsx)(ye.a,{item:!0,xs:6,sm:3,md:3,lg:2,justify:"center",children:Object(O.jsx)(ie.Box,{justify:"space-between",children:Object(O.jsx)(qe.a,{children:Object(O.jsxs)(c.a.Fragment,{children:[Object(O.jsx)(R.a,{size:"small",color:"secondary","aria-label":"remove",disabled:m,children:Object(O.jsx)(ze.a,{onClick:e=>k(0,-1)})}),Object(O.jsx)(R.a,{size:"small",color:"default","aria-label":"count",children:Object(O.jsx)("strong",{children:d})}),Object(O.jsx)(R.a,{size:"small",color:"primary","aria-label":"add",disabled:h,children:Object(O.jsx)(Re.a,{onClick:e=>k(0,1)})})]})})})}),Object(O.jsx)(ye.a,{item:!0,xs:6,sm:6,md:6,lg:1,justify:"center",alignItems:"center",children:Object(O.jsx)(ie.Box,{children:Object(O.jsx)(ie.Button,{variant:"contained",color:"secondary",startIcon:Object(O.jsx)(et.a,{}),onClick:async()=>{let t=await((e,t)=>fetch("".concat(y.API,"/cartItem/").concat(e),{method:"DELETE",headers:{Accept:"application/json","content-type":"application/json",Authorization:"Bearer ".concat(t)}}).then((e=>e.json())).catch((e=>{console.log("Error deleting Cart Item  : "+e)})))(e.item._id,S);t.error&&v(t.error),e.refreshCart()},text:"Remove"})})}),Object(O.jsx)(ye.a,{item:!0,"off-set":8,xs:4,sm:3,md:3,lg:2,children:Object(O.jsx)(ie.Box,{justify:"right",children:Object(O.jsxs)(C.a,{noWrap:!0,children:["Amount ",Object(O.jsx)("br",{})," Rs.",(d*w.price).toFixed(2)]})})}),Object(O.jsx)(Je.a,{in:s,timeout:"auto",unmountOnExit:!0,children:Object(O.jsx)(We.a,{children:rt.map((e=>Object(O.jsxs)(c.a.Fragment,{children:[Object(O.jsxs)(C.a,{variant:"h6",children:[e," "]}),Object(O.jsx)(C.a,{paragraph:!0,children:"Price"===e?"Rs.".concat(w[e.toLowerCase()]," /-"):w[e.toLowerCase()]})]})))})})]})})};var ct=()=>{const[e,t]=Object(a.useState)({cartItems:[],isSuccess:!1,loading:!0,reload:!1}),[r,o]=Object(a.useState)(0),[s,i]=Object(a.useState)(!1),[l,d]=Object(a.useState)({isOpen:!1,alertMessage:"",alertType:""}),{loading:j,cartItems:h,isSuccess:p}=e,{user:m,token:b}=u();Object(a.useEffect)((async()=>{await(async()=>{t({...e,loading:!0}),await xe(b).then((r=>{if(!r.error){r=r.filter((e=>e.product&&e.user)),t({...e,cartItems:r,isSuccess:!0,loading:!1});let a=x(r);return o(a),console.log("here"),r}t({...e,loading:!1}),d({isOpen:!0,alertMessage:r.error,alertType:"error"})}))})();console.log("here2")}),[s]);const g=()=>{i(!s)},x=e=>e.reduce(((e,t)=>e+t.total),0).toFixed(2);return Object(O.jsxs)(Be,{title:"Cart Page",description:"Checkout the items",children:[j&&Ze(),Object(O.jsx)(ie.Notification,{notify:l,setNotify:d}),Object(O.jsxs)("div",{children:[h.length>0&&Object(O.jsxs)("div",{children:[Object(O.jsx)(c.a.Fragment,{children:h.map(((e,t)=>Object(O.jsx)(at,{item:e,quantity:e.quantity,refreshCart:g},t)))}),Object(O.jsx)(ie.Paper,{children:(y=r,Object(O.jsxs)(ye.a,{container:!0,justify:"flex-end",children:[Object(O.jsx)(ie.Box,{children:Object(O.jsxs)(C.a,{variant:"h5",children:["Total cart Amount: ",y]})}),Object(O.jsx)(ie.Box,{children:Object(O.jsx)(ie.Button,{text:"Check Out",size:"large",variant:"contained",component:n.b,to:{pathname:"/checkout",params:{cartItems:h,refreshCart:{handleRefreshCart:g}}}})})]}))})]}),p&&0==e.cartItems.length&&Object(O.jsx)("div",{className:"row",style:{justifyContent:"center",padding:2},children:Object(O.jsx)("div",{className:"col-md-12 bg-danger bg-gradient text-center",children:Object(O.jsx)("p",{children:"Cart is empty"})})})]})]});var y};var ot=()=>{const{user:e}=u();return Object(O.jsx)(Be,{title:"Admin Dashboard Page",description:"Manage your shop here",className:" bg-secondary bg-gradient p-2",children:Object(O.jsxs)("div",{className:"row",children:[Object(O.jsx)("div",{className:"col-lg-3 col-md-3 col-sm-12",children:Object(O.jsxs)("div",{className:"accordion",id:"adminLeftAccordion",children:[Object(O.jsxs)("div",{className:"accordion-item",children:[Object(O.jsx)("h2",{className:"accordion-header",id:"headingCategories",children:Object(O.jsx)("button",{className:"accordion-button btn text-dark",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseCategories",children:"Categories"})}),Object(O.jsx)("div",{id:"collapseCategories",className:"accordion-collapse collapse","data-bs-parent":"#adminLeftAccordion",children:Object(O.jsxs)("ul",{className:"list-group",children:[Object(O.jsx)("li",{className:"list-group-item",children:Object(O.jsx)(n.b,{to:"/admin/create/category",className:"nav-link text-dark",children:"Create Category"})}),Object(O.jsx)("li",{className:"list-group-item",children:Object(O.jsx)(n.b,{to:"/admin/manage/categories",className:"nav-link text-dark",children:"Manage Category"})})]})})]}),Object(O.jsxs)("div",{className:"accordion-item",children:[Object(O.jsx)("h2",{className:"accordion-header",id:"headingProducts",children:Object(O.jsx)("button",{className:"accordion-button btn text-dark",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseProducts",children:"Products"})}),Object(O.jsx)("div",{id:"collapseProducts",className:"accordion-collapse collapse","data-bs-parent":"#adminLeftAccordion",children:Object(O.jsxs)("ul",{className:"list-group",children:[Object(O.jsx)("li",{className:"list-group-item",children:Object(O.jsx)(n.b,{to:"/admin/create/product",className:"nav-link text-dark",children:"Create Product"})}),Object(O.jsx)("li",{className:"list-group-item",children:Object(O.jsx)(n.b,{to:"/admin/manage/products",className:"nav-link text-dark",children:"Manage Product"})})]})})]})]})}),Object(O.jsx)("div",{className:"col-lg-9 col-md-9 col-sm-12",children:Object(O.jsxs)("div",{className:"card",children:[Object(O.jsx)("h4",{className:"card-header",children:"Admin Details"}),Object(O.jsxs)("ul",{className:"list-group",children:[Object(O.jsxs)("li",{className:"list-group-item",children:[Object(O.jsx)("span",{className:"badge bg-secondary",children:" Name "})," ",e.name]}),Object(O.jsxs)("li",{className:"list-group-item",children:[Object(O.jsx)("span",{className:"badge bg-secondary",children:" Email "})," ",e.email]}),Object(O.jsxs)("li",{className:"list-group-item",children:[Object(O.jsx)("span",{className:"badge bg-danger",children:" Admin "})," ",e.role]})]})]})})]})})};var st=()=>Object(O.jsx)(Be,{title:"UserDashboard Page"});var nt=r(66),it=r(65),lt=r.n(it);const dt=()=>Object(O.jsx)("div",{className:"col-md-12",children:Object(O.jsx)(n.b,{className:"btn btn-secondary btn-md rounded my-2",to:"/admin/dashboard",children:"Go To Dashboard"})});var jt=()=>{const[e,t]=Object(a.useState)(""),[r,c]=Object(a.useState)(!1),[o,s]=Object(a.useState)(!1),[n,i]=Object(a.useState)([]),l=e=>{s(!1),c("")},{user:d,token:j}=u(),h=()=>{$e(25).then((e=>i(e))).catch((e=>{console.log("Error fetching all categories : "+e)}))};Object(a.useEffect)(h,[o]);Object(a.useEffect)(h,[]);const p=[{field:"CategoryName",headerName:"Category name",width:200},{field:"actionUpdate",headerName:"Update",width:200,renderCell:e=>Object(O.jsx)("strong",{children:Object(O.jsx)(w.a,{variant:"contained",href:"/admin/update/category/".concat(e.id),children:"Update"})})},{field:"action",headerName:"",renderCell:e=>Object(O.jsx)("strong",{children:Object(O.jsx)(lt.a,{onClick:t=>{return r=t,a=e.id,r.preventDefault(),c(""),s(!1),void Qe(a,j).then((e=>{e.error?c(e.error):(c(""),s("Deleted"))})).catch((e=>{console.log("Error deleting cateogry : "+e)}));var r,a}})})}],m=n.map((e=>({CategoryName:e.name,id:e._id})));return Object(O.jsxs)(Be,{title:"Manage Categories",description:"Manage your catgories",className:"bg-secondary p-1",children:[Object(O.jsxs)("div",{className:"row bg-light text-left",children:[Object(O.jsx)("div",{className:"row",children:dt()}),Object(O.jsx)("div",{className:"col-md-8",children:Object(O.jsx)(ye.a,{spacing:2,children:Object(O.jsx)(ye.a,{item:!0,xs:12,children:Object(O.jsx)("div",{style:{height:300},children:Object(O.jsx)(nt.a,{rows:m,columns:p,autoPageSize:!0})})})})})]}),Object(O.jsx)("div",{className:"row",children:Object(O.jsx)(J.a,{open:0!=o,autoHideDuration:6e3,onClose:l,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:Object(O.jsx)(W.a,{onClose:l,severity:"success",children:Object(O.jsxs)("p",{children:["Category has been successfully ",o]})})})}),Object(O.jsx)("div",{className:"row",children:Object(O.jsx)(J.a,{open:""!=r,autoHideDuration:6e3,onClose:l,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:Object(O.jsx)(W.a,{onClose:l,severity:"error",children:Object(O.jsx)("p",{children:JSON.stringify(r)})})})})]})};var ht=()=>{const[e,t]=Object(a.useState)(""),[r,c]=Object(a.useState)(!1),[o,s]=Object(a.useState)(!1),[n,i]=Object(a.useState)([]),[l,d]=Object(a.useState)(!1),j=e=>{s(!1),c("")},{user:h,token:p}=u(),m=()=>{$e(25).then((e=>i(e))).catch((e=>{console.log("Error fetching all categories : "+e)}))};Object(a.useEffect)(m,[o]);const b=e=>{c(""),t(e.target.value)},g=r=>{r.preventDefault(),c(""),s(!1),((e,t)=>fetch("".concat(y.API,"/category/create"),{method:"POST",headers:{Accept:"application/json","content-type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(e)}).then((e=>e.json())).catch((e=>{console.log("Error creating category : "+e)})))({name:e},p).then((e=>{e.error?c(e.error):(c(""),s("Created"),t(""))})).catch((e=>{console.log("Error creating cateogry : "+e)}))};Object(a.useEffect)(m,[]);const x=[{field:"CategoryName",headerName:"Category name",width:200},{field:"action",headerName:"",renderCell:e=>Object(O.jsx)("strong",{children:Object(O.jsx)(lt.a,{onClick:t=>{return r=t,a=e.id,r.preventDefault(),c(""),s(!1),void Qe(a,p).then((e=>{e.error?c(e.error):(c(""),s("Deleted"))})).catch((e=>{console.log("Error deleting cateogry : "+e)}));var r,a}})})}],f=n.map((e=>({CategoryName:e.name,id:e._id})));return Object(O.jsxs)(Be,{title:"Create Categories",description:"Create your catgories",className:"bg-secondary",children:[Object(O.jsxs)("div",{className:"row bg-light text-left",children:[Object(O.jsx)("div",{children:dt()}),Object(O.jsx)("div",{className:"col-md-8",children:Object(O.jsxs)("form",{children:[Object(O.jsxs)("div",{className:"row-md-4",children:[Object(O.jsx)("label",{className:"form-label",children:"Category Name :"}),Object(O.jsx)("input",{type:"text",className:"form-control",onChange:b,value:e,autoFocus:!0,required:!0,placeholder:"Enter catefory name E.g:Shirts"})]}),Object(O.jsx)("div",{className:"row-md-4",children:Object(O.jsx)("div",{className:"col-md-4",children:Object(O.jsx)("button",{type:"submit",onClick:g,className:"btn btn-primary rounded my-2",children:"Create Category"})})})]})}),Object(O.jsx)("div",{className:"col-md-8",children:Object(O.jsx)(ye.a,{spacing:2,children:Object(O.jsx)(ye.a,{item:!0,xs:12,children:Object(O.jsx)("div",{style:{height:300},children:Object(O.jsx)(nt.a,{rows:f,columns:x,autoPageSize:!0})})})})})]}),Object(O.jsx)("div",{className:"row",children:Object(O.jsx)(J.a,{open:0!=o,autoHideDuration:6e3,onClose:j,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:Object(O.jsx)(W.a,{onClose:j,severity:"success",children:Object(O.jsxs)("p",{children:["Category has been successfully ",o]})})})}),Object(O.jsx)("div",{className:"row",children:Object(O.jsx)(J.a,{open:""!=r,autoHideDuration:6e3,onClose:j,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:Object(O.jsx)(W.a,{onClose:j,severity:"error",children:Object(O.jsx)("p",{children:JSON.stringify(r)})})})})]})},pt=r(178);var mt=()=>{const[e,t]=Object(a.useState)({name:"",description:"",price:0,stock:0,sold_units:0,image:"",categories:[],category:"",loading:!0,error:"",isSuccess:!1,getRedirect:!1,formData:new FormData}),{user:r,token:c}=u(),{name:o,description:s,price:n,stock:l,sold_units:d,image:j,categories:h,category:p,loading:m,error:b,isSuccess:g,getRedirect:x,formData:f}=e;Object(a.useEffect)((()=>{$e().then((r=>{r.error?t({...e,error:r.error}):t({...e,categories:r,loading:!1})}))}),[]);const v=r=>a=>{const c="image"===r?a.target.files[0]:a.target.value;f.set(r,c),t({...e,[r]:c})},N=()=>{t("created"==g?{...e,error:"",isSuccess:!1,getRedirect:!0}:{...e,error:"",isSuccess:!1})},C=r=>{r.preventDefault(),t({...e,error:"",loading:!0}),((e,t)=>fetch("".concat(y.API,"/product/create"),{method:"POST",headers:{Authorization:"Bearer ".concat(e)},body:t}).then((e=>e.json())).catch((e=>{console.log("Error creating product : "+e)})))(c,f).then((r=>{r.error?t({...e,error:r.error}):(console.log(r),t({...e,name:"",description:"",price:0,stock:0,sold_units:0,image:"",category:"",loading:!1,isSuccess:"created"}))}))};return Object(O.jsxs)(Be,{title:"Create Product",description:"Create your product here",className:"bg-secondary gx-2",children:[Object(O.jsxs)("div",{className:"row bg-light text-left",children:[Object(O.jsx)("div",{className:"col-md-8",children:dt()}),!m&&!g&&Object(O.jsxs)("form",{children:[Object(O.jsxs)("div",{class:"form-group row my-2",children:[Object(O.jsx)("label",{for:"nameInput",className:"col-sm-2",children:"Name"}),Object(O.jsx)("div",{className:"col-sm-8",children:Object(O.jsx)("input",{type:"text",class:"form-control",id:"nameInput",placeholder:"Name",onChange:v("name"),value:o,autoFocus:!0,required:!0})})]}),Object(O.jsxs)("div",{class:"form-group row my-2",children:[Object(O.jsx)("label",{for:"productDescriptionInput",className:"col-sm-2",children:"Description"}),Object(O.jsx)("div",{className:"col-sm-8",children:Object(O.jsx)("textarea",{type:"text",class:"form-control",id:"productDescriptionInput",placeholder:"Description",onChange:v("description"),value:s})})]}),Object(O.jsxs)("div",{class:"form-group row my-2",children:[Object(O.jsx)("label",{for:"productPriceInput",className:"col-sm-2",children:"Price"}),Object(O.jsx)("div",{className:"col-sm-8",children:Object(O.jsx)("input",{type:"text",class:"form-control",id:"productPriceInput",placeholder:"Example : 11.2",onChange:v("price"),value:n,required:!0})})]}),Object(O.jsxs)("div",{class:"form-group row my-2",children:[Object(O.jsx)("label",{for:"productStockInput",className:"col-sm-2",children:"Stock"}),Object(O.jsx)("div",{className:"col-sm-8",children:Object(O.jsx)("input",{type:"text",class:"form-control",id:"productStockInput",placeholder:"Example input",onChange:v("stock"),value:l,required:!0})})]}),Object(O.jsxs)("div",{class:"form-group row my-2",children:[Object(O.jsx)("label",{for:"productSoldInput",className:"col-sm-2",children:"Sold"}),Object(O.jsx)("div",{className:"col-sm-8 my-2",children:Object(O.jsx)("input",{type:"text",class:"form-control",id:"productSoldInput",placeholder:"Example input",onChange:v("sold_units"),value:d})})]}),Object(O.jsxs)("div",{class:"form-group row my-2",children:[Object(O.jsx)("label",{for:"productCategorySelect",className:"col-sm-2",children:"Category"}),Object(O.jsx)("div",{className:"col-sm-8",children:Object(O.jsxs)("select",{class:"form-control custom-select",id:"productCategorySelect",onChange:v("category"),children:[Object(O.jsx)("option",{children:"Select ..."}),h.map(((e,t)=>Object(O.jsx)("option",{value:e._id,children:e.name},t)))]})})]}),Object(O.jsxs)("div",{class:"form-group row my-2",children:[Object(O.jsx)("label",{for:"productImageInput",className:"col-sm-2",children:"Product Image"}),Object(O.jsx)("div",{className:"col-sm-8",children:Object(O.jsx)("input",{type:"file",class:"form-control-file",id:"productImageInput",accpet:"image",onChange:v("image")})})]}),Object(O.jsx)("button",{type:"submit",onClick:C,class:"btn btn-primary rounded my-2",children:"Create Product"})]}),Object(O.jsx)("div",{className:"col-md-8",children:m&&Object(O.jsx)(pt.a,{})})]}),Object(O.jsx)("div",{className:"row",children:Object(O.jsx)(J.a,{open:0!=g,autoHideDuration:6e3,onClose:N,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:Object(O.jsx)(W.a,{onClose:N,severity:"success",children:Object(O.jsxs)("p",{children:["Product has been successfully ",g]})})})}),Object(O.jsx)("div",{className:"row",children:Object(O.jsx)(J.a,{open:""!=b,autoHideDuration:6e3,onClose:N,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:Object(O.jsx)(W.a,{onClose:N,severity:"error",children:Object(O.jsx)("p",{children:JSON.stringify(b)})})})}),(()=>{if(x)return Object(O.jsx)(i.a,{to:"/admin/manage/products"})})()]})};var bt=()=>{const[e,t]=Object(a.useState)({products:[],error:"",isSuccess:!1,isLoading:!0}),{user:r,token:c}=u(),{products:o,error:s,isSuccess:n,isLoading:i}=e;Object(a.useEffect)((()=>{f(0).then((r=>{r?r.error?t({...e,error:r.error}):t({...e,products:r,isLoading:!1}):t({...e,products:[],isLoading:!1,error:"No Products Data"})}))}),[n]);const l=()=>{t({...e,error:"",isSuccess:!1})},d=(r,a)=>{r.preventDefault(),t({...e,error:"",isSuccess:!1,isLoading:!0}),((e,t)=>fetch("".concat(y.API,"/product/").concat(t),{method:"DELETE",headers:{Accept:"application/json",Authorization:"Bearer ".concat(e)}}).then((e=>e.json())).catch((e=>{console.log("Error deleting the product : "+e)})))(c,a).then((r=>{r.error?t({...e,error:r.error,isLoading:!1}):t({...e,error:"",isSuccess:"Deleted",isLoading:!1})})).catch((r=>{t({...e,error:r,isSuccess:!1,isLoading:!1}),console.log("Error deleting product : "+r)}))},j=[{field:"ProductName",headerName:"Name",width:200},{field:"CategoryName",headerName:"Category",width:200},{field:"actionUpdate",headerName:"Update",width:200,renderCell:e=>Object(O.jsx)("strong",{children:Object(O.jsx)(w.a,{variant:"contained",href:"/admin/update/product/".concat(e.id),children:"Update"})})},{field:"actionDelete",headerName:"Delete",renderCell:e=>Object(O.jsx)("strong",{children:Object(O.jsx)(lt.a,{onClick:t=>d(t,e.id)})})}],h=o.length>0?o.map((e=>({ProductName:e.name,id:e._id,CategoryName:"".concat(void 0!=e.category?e.category.name:null)}))):[];return Object(O.jsxs)(Be,{title:"Manage Products",description:"Manage your products here",className:"bg-secondary gx-2",children:[Object(O.jsxs)("div",{className:"row bg-light text-left",children:[Object(O.jsx)("div",{className:"col-md-8",children:dt()}),Object(O.jsx)(ye.a,{spacing:2,children:Object(O.jsx)(ye.a,{item:!0,xs:12,children:Object(O.jsx)("div",{style:{height:350},children:Object(O.jsx)(nt.a,{rows:h,columns:j,autoPageSize:!0,loading:i})})})})]}),Object(O.jsx)("div",{className:"row",children:Object(O.jsx)(J.a,{open:0!=n,autoHideDuration:6e3,onClose:l,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:Object(O.jsx)(W.a,{onClose:l,severity:"success",children:Object(O.jsxs)("p",{children:["Product has been successfully ",n]})})})}),Object(O.jsx)("div",{className:"row",children:Object(O.jsx)(J.a,{open:""!=s,autoHideDuration:6e3,onClose:l,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:Object(O.jsx)(W.a,{onClose:l,severity:"error",children:Object(O.jsx)("p",{children:JSON.stringify(s)})})})})]})};var ut=e=>{const[t,r]=Object(a.useState)({name:"",description:"",price:0,stock:0,sold_units:0,image:"",categories:[],category:"",loading:!0,error:"",isSuccess:!1,getRedirect:!1,formData:new FormData}),{user:c,token:o}=u(),{name:s,description:n,price:l,stock:d,sold_units:j,categories:h,error:p,isSuccess:m,formData:b,loading:g,getRedirect:x}=t,f=()=>{let a=e.match.params.productId;((e,t)=>fetch("".concat(y.API,"/product/").concat(t),{method:"GET",headers:{Accept:"application/json",Authorization:"Bearer ".concat(e)}}).then((e=>e.json())).catch((e=>{console.log("Error obtaining the product : "+e)})))(o,a).then((e=>{e.error?r({...t,error:e.error}):(console.log(e),r({...t,name:e.name,description:e.description,price:e.price,stock:e.stock,sold_units:e.sold_units.toString(),category:e.category,loading:!1}),v())}))},v=()=>{$e().then((e=>{e.error?r({...t,error:e.error}):(console.log(e),r({categories:e,error:"",isSuccess:!1,loading:!1,formData:new FormData}))}))};Object(a.useEffect)((()=>{f()}),[]);const N=e=>a=>{const c="image"===e?a.target.files[0]:a.target.value;b.set(e,c),r({...t,[e]:c})},C=()=>{r("updated"==m?{...t,error:"",isSuccess:!1,getRedirect:!0}:{...t,error:"",isSuccess:!1})},S=a=>{let c=e.match.params.productId;a.preventDefault(),r({...t,error:"",isSuccess:!1,loading:!0}),((e,t,r)=>fetch("".concat(y.API,"/product/").concat(t),{method:"PUT",headers:{Authorization:"Bearer ".concat(e)},body:r}).then((e=>e.json())).catch((e=>{console.log("Error updating the product : "+e)})))(o,c,b).then((e=>{e.error?r({...t,error:e.error,getRedirect:!1}):r({...t,loading:!1,isSuccess:"updated"})}))};return Object(O.jsxs)(Be,{title:"Update Product",description:"Update your product here",className:"bg-secondary gx-2",children:[Object(O.jsxs)("div",{className:"row bg-light text-left",children:[Object(O.jsx)("div",{className:"col-md-8",children:dt()}),!g&&!m&&Object(O.jsxs)("form",{children:[Object(O.jsxs)("div",{className:"form-group row my-2",children:[Object(O.jsx)("label",{for:"nameInput",className:"col-sm-2",children:"Name"}),Object(O.jsx)("div",{className:"col-sm-8",children:Object(O.jsx)("input",{type:"text",className:"form-control",id:"nameInput",onChange:N("name"),value:s,autoFocus:!0,required:!0})})]}),Object(O.jsxs)("div",{className:"form-group row my-2",children:[Object(O.jsx)("label",{for:"productDescriptionInput",className:"col-sm-2",children:"Description"}),Object(O.jsx)("div",{className:"col-sm-8",children:Object(O.jsx)("textarea",{type:"text",className:"form-control",id:"productDescriptionInput",onChange:N("description"),value:n})})]}),Object(O.jsxs)("div",{className:"form-group row my-2",children:[Object(O.jsx)("label",{for:"productPriceInput",className:"col-sm-2",children:"Price"}),Object(O.jsx)("div",{className:"col-sm-8",children:Object(O.jsx)("input",{type:"text",className:"form-control",id:"productPriceInput",onChange:N("price"),value:l,required:!0})})]}),Object(O.jsxs)("div",{className:"form-group row my-2",children:[Object(O.jsx)("label",{for:"productStockInput",className:"col-sm-2",children:"Stock"}),Object(O.jsx)("div",{className:"col-sm-8",children:Object(O.jsx)("input",{type:"text",className:"form-control",id:"productStockInput",onChange:N("stock"),value:d,required:!0})})]}),Object(O.jsxs)("div",{className:"form-group row my-2",children:[Object(O.jsx)("label",{for:"productSoldInput",className:"col-sm-2",children:"Sold"}),Object(O.jsx)("div",{className:"col-sm-8 my-2",children:Object(O.jsx)("input",{type:"text",className:"form-control",id:"productSoldInput",placeholder:"Example input",onChange:N("sold_units"),value:j})})]}),Object(O.jsxs)("div",{className:"form-group row my-2",children:[Object(O.jsx)("label",{for:"productCategorySelect",className:"col-sm-2",children:"Category"}),Object(O.jsx)("div",{className:"col-sm-8",children:Object(O.jsxs)("select",{className:"form-select",id:"productCategorySelect",onChange:N("category"),children:[Object(O.jsx)("option",{children:"Select to update"}),h.map(((e,t)=>Object(O.jsx)("option",{value:e._id,children:e.name},t)))]})})]}),Object(O.jsxs)("div",{className:"form-group row my-2",children:[Object(O.jsx)("label",{for:"productImageInput",className:"col-sm-2",children:"Update Product Image"}),Object(O.jsx)("div",{className:"col-sm-8",children:Object(O.jsx)("input",{type:"file",className:"form-control-file",id:"productImageInput",accpet:"image",onChange:N("image")})})]}),Object(O.jsx)("button",{type:"submit",onClick:S,className:"btn btn-primary rounded my-2",children:"Update Product"})]}),Object(O.jsx)("div",{className:"col-md-8",children:g&&Object(O.jsx)(pt.a,{})})]}),Object(O.jsx)("div",{className:"row",children:Object(O.jsx)(J.a,{open:0!=m,autoHideDuration:6e3,onClose:C,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:Object(O.jsx)(W.a,{onClose:C,severity:"success",children:Object(O.jsxs)("p",{children:["Product has been successfully ",m]})})})}),Object(O.jsx)("div",{className:"row",children:Object(O.jsx)(J.a,{open:""!=p,autoHideDuration:6e3,onClose:C,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:Object(O.jsx)(W.a,{onClose:C,severity:"error",children:Object(O.jsx)("p",{children:JSON.stringify(p)})})})}),(()=>{if(x)return Object(O.jsx)(i.a,{to:"/admin/manage/products"})})()]})};var Ot=e=>{const[t,r]=Object(a.useState)({name:"",loading:!0,error:"",isSuccess:!1,getRedirect:!1}),{user:c,token:o}=u(),{name:s,error:n,isSuccess:l,loading:d,getRedirect:j}=t,h=()=>{((e,t)=>fetch("".concat(y.API,"/category/").concat(e),{method:"GET",headers:{Accept:"application/json","content-type":"application/json",Authorization:"Bearer ".concat(t)}}).then((e=>e.json())).catch((e=>{console.log("Error getting category : "+e)})))(e.match.params.categoryId,o).then((e=>{e.error?r({...t,error:e.error}):r({...t,name:e.name,loading:!1})}))};Object(a.useEffect)((()=>{h()}),[]);const p=()=>{r("updated"==l?{...t,error:"",isSuccess:!1,getRedirect:!0}:{...t,error:"",isSuccess:!1})},m=a=>{let c=e.match.params.categoryId;a.preventDefault(),r({...t,error:"",isSuccess:!1,loading:!0}),((e,t,r)=>fetch("".concat(y.API,"/category/").concat(e),{method:"PUT",headers:{Accept:"application/json","content-type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify(t)}).then((e=>e.json())).catch((e=>{console.log(e),console.log("Error Updating the category ")})))(c,{name:s},o).then((e=>{e.error?r({...t,error:e.error,getRedirect:!1}):r({...t,loading:!1,isSuccess:"updated"})}))};return Object(O.jsxs)(Be,{title:"Update Product",description:"Update your product here",className:"bg-secondary gx-2",children:[Object(O.jsxs)("div",{className:"row bg-light text-left",children:[Object(O.jsx)("div",{className:"col-md-8",children:dt()}),(()=>{return!d&&!l&&Object(O.jsxs)("form",{children:[Object(O.jsxs)("div",{className:"row-md-4",children:[Object(O.jsx)("label",{className:"form-label",children:"Category Name :"}),Object(O.jsx)("input",{type:"text",className:"form-control",onChange:(e="name",a=>{r({...t,[e]:a.target.value})}),value:s,autoFocus:!0,required:!0,placeholder:"Enter catefory name E.g:Shirts"})]}),Object(O.jsx)("div",{className:"row-md-4",children:Object(O.jsx)("div",{className:"col-md-4",children:Object(O.jsx)("button",{type:"submit",onClick:m,className:"btn btn-primary rounded my-2",children:"Update Category"})})})]});var e})(),Object(O.jsx)("div",{className:"col-md-8",children:d&&Object(O.jsx)(pt.a,{})})]}),Object(O.jsx)("div",{className:"row",children:Object(O.jsx)(J.a,{open:0!=l,autoHideDuration:6e3,onClose:p,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:Object(O.jsx)(W.a,{onClose:p,severity:"success",children:Object(O.jsxs)("p",{children:["Category has been successfully ",l]})})})}),Object(O.jsx)("div",{className:"row",children:Object(O.jsx)(J.a,{open:""!=n,autoHideDuration:6e3,onClose:p,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:Object(O.jsx)(W.a,{onClose:p,severity:"error",children:Object(O.jsx)("p",{children:JSON.stringify(n)})})})}),(()=>{if(j)return Object(O.jsx)(i.a,{to:"/admin/manage/categories"})})()]})},gt=(r(121),r(173)),xt=r(249),yt=r(259),ft=r(250),vt=r(254);const Nt=Object(v.a)((e=>({root:{width:"100%"},button:{marginRight:e.spacing(1)},instructions:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}})));var Ct=e=>{const t=Nt(),[r,o]=Object(a.useState)({loading:!0,error:"",isSuccess:!1,address:"",cartItems:e.location.params.cartItems}),[s,n]=c.a.useState(0),[i,l]=c.a.useState(new Set),{token:d,user:j}=u(),{cartItems:h}=r,p=["OrderItems","Shipping Address","Payment"],m=[],b=e=>m.includes(e),g=e=>i.has(e),x=()=>{let e=i;g(s)&&(e=new Set(e.values()),e.delete(s)),n((e=>e+1)),l(e)},y=()=>{n((e=>e-1))},f=()=>{if(!b(s))throw new Error("You can't skip a step that isn't optional.");n((e=>e+1)),l((e=>{const t=new Set(e.values());return t.add(s),t}))},v=()=>{n(0)},S=e=>{switch(e){case 0:return Object(O.jsx)(gt.a,{children:h.length>0&&h.map((e=>Object(O.jsxs)(je.a,{alignItems:"center",children:[Object(O.jsx)(xt.a,{children:Object(O.jsx)(Le.a,{src:e.product.image})}),Object(O.jsx)(he.a,{primary:e.product.name,secondary:e.quantity}),Object(O.jsx)(he.a,{primary:Number(e.quantity)*Number(e.product.price).toFixed(2),secondary:"price : ".concat(e.product.price)})]})))});case 1:return"Shipping Address Step";case 2:return"Payment Step";default:return"unknown step"}};return Object(O.jsx)(Be,{title:"Checkout Page",description:"Please provide details to complete the checkout",children:Object(O.jsx)("div",{children:Object(O.jsx)(I.a,{className:t.root,children:Object(O.jsxs)(N.a,{elevation:3,children:[Object(O.jsx)(yt.a,{activeStep:s,children:p.map(((e,t)=>{const r={},a={};return b(t)&&(a.optional=Object(O.jsx)(C.a,{variant:"caption",children:"Optional"})),g(t)&&(r.completed=!1),Object(O.jsx)(ft.a,{...r,children:Object(O.jsx)(vt.a,{...a,children:e})},e)}))}),Object(O.jsx)("div",{children:s===p.length?Object(O.jsxs)("div",{children:[Object(O.jsx)(C.a,{className:t.instructions,children:"All steps completed - you're finished"}),Object(O.jsx)(w.a,{onClick:v,color:"primary",variant:"contained",className:t.button,children:"Reset"})]}):Object(O.jsxs)("div",{children:[Object(O.jsx)(C.a,{className:t.instructions,children:S(s)}),Object(O.jsxs)("div",{children:[Object(O.jsx)(w.a,{disabled:0===s,variant:"contained",color:"secondary",onClick:y,className:t.button,children:"Back"}),b(s)&&Object(O.jsx)(w.a,{variant:"contained",color:"primary",onClick:f,className:t.button,children:"Skip"}),Object(O.jsx)(w.a,{variant:"contained",color:"primary",onClick:x,className:t.button,children:s===p.length-1?"Finish":"Next"})]})]})})]})})})})};var St=()=>{const e=Object(i.g)();return Object(O.jsx)(Be,{title:"Page Not found",description:"You have been redirect to an invalid url",children:Object(O.jsx)(ie.Box,{children:Object(O.jsx)(ie.Button,{text:"Go to Dashboard",onClick:()=>{e.push("/")}})})})};function wt(){return Object(O.jsx)(n.a,{children:Object(O.jsxs)(i.d,{children:[Object(O.jsx)(i.b,{path:"/",exact:!0,component:Xe}),Object(O.jsx)(x,{path:"/cart",exact:!0,component:ct}),Object(O.jsx)(x,{path:"/checkout/",exact:!0,component:Ct}),Object(O.jsx)(g,{path:"/admin/dashboard",exact:!0,component:ot}),Object(O.jsx)(x,{path:"/user/dashboard",exact:!0,component:st}),Object(O.jsx)(g,{path:"/admin/create/category",exact:!0,component:ht}),Object(O.jsx)(g,{path:"/admin/manage/categories",exact:!0,component:jt}),Object(O.jsx)(g,{path:"/admin/create/product",exact:!0,component:mt}),Object(O.jsx)(g,{path:"/admin/manage/products",exact:!0,component:bt}),Object(O.jsx)(g,{path:"/admin/update/product/:productId",exact:!0,component:ut}),Object(O.jsx)(g,{path:"/admin/update/category/:categoryId",exact:!0,component:Ot}),Object(O.jsx)(i.b,{path:"*",component:St})]})})}s.a.render(Object(O.jsx)(wt,{}),document.getElementById("root"))},22:function(e,t,r){"use strict";r.r(t),r.d(t,"API",(function(){return a}));const a=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BACKEND}},[[167,1,2]]]);
//# sourceMappingURL=main.5afa6963.chunk.js.map